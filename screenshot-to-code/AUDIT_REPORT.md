# üìã –ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –ü–†–û–ï–ö–¢–ê Screen2Code

**–î–∞—Ç–∞:** 24 –¥–µ–∫–∞–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** SaaS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤/URL –≤ –∫–æ–¥ (Screenshot-to-Code)

---

## ================================================
## –†–ê–ó–î–ï–õ 1 ‚Äî –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò
## ================================================

### 1.1 –ö–∞–∫ —Å–µ–π—á–∞—Å —É—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è?

**–ú–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
- **–¢–∏–ø:** Email-based –±–µ–∑ –ø–∞—Ä–æ–ª–µ–π
- **–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è user state:** Zustand store (`/frontend/src/store/auth.ts`) —Å persistence –≤ localStorage
- **–ö–∞–∫ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è:** Header `X-User-Email` –≤ –∫–∞–∂–¥–æ–º API –∑–∞–ø—Ä–æ—Å–µ
- **Backend –ª–æ–≥–∏–∫–∞:**
  - –ï–Ω–¥–ø–æ–∏–Ω—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: `get_current_user()` –≤ `/backend/api/user_auth.py` (—Å—Ç—Ä–æ–∫–∞ 72-101)
  - –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ —á–∏—Ç–∞–µ—Ç `X-User-Email` –∑–∞–≥–æ–ª–æ–≤–æ–∫
  - –ï—Å–ª–∏ —é–∑–µ—Ä –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î ‚Äî **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è** —Å role='user'
  - –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –õ–Æ–ë–û–ô –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–±—è –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–≤ —Å–≤–æ–π email

**–Ø–≤–Ω—ã–π –æ—Ç–≤–µ—Ç:**
- **Login:** ‚úÖ –ï—Å—Ç—å —Ñ–æ—Ä–º–∞ –≤ `/frontend/src/app/auth/sign-in/` ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–≤–æ–¥–∏—à—å email –∏ –Ω–∞–∂–∏–º–∞–µ—à—å "Sign in"
- **Logout:** ‚úÖ –ï—Å—Ç—å –≤ navbar ‚Äî –æ—á–∏—â–∞–µ—Ç email –∏–∑ localStorage
- **Session/JWT/Cookies:** ‚ùå –ù–ò–ß –∏–∑ —ç—Ç–æ–≥–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ ‚Äî –ø—Ä–æ—Å—Ç–æ–π email –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ.

### 1.2 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –ë–î

**–¢–∞–±–ª–∏—Ü–∞ users** (`/backend/db/sqlite.py`, —Å—Ç—Ä–æ–∫–∞ 59-68):
```
id (TEXT PRIMARY KEY)
email (TEXT UNIQUE)
plan_id (TEXT) - FK –Ω–∞ plans —Ç–∞–±–ª–∏—Ü—É
role (TEXT DEFAULT 'user') - 'user' –∏–ª–∏ 'admin'
created_at (TEXT)
```

**–ö–∞–∫–∏–µ –ø–æ–ª—è –†–ï–ê–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:**
- ‚úÖ `email` ‚Äî –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ `role` ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω–∞
- ‚úÖ `id` ‚Äî –¥–ª—è FK –≤ –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- ‚ùì `plan_id` ‚Äî –µ—Å—Ç—å –≤ –ë–î, –Ω–æ –≤ –∫–æ–¥–µ –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∏ –æ–¥–∏–Ω UPDATE –ø–æ —ç—Ç–æ–º—É –ø–æ–ª—é. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**.
- ‚ùì `created_at` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–µ–∞–ª—å–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### 1.3 –†–æ–ª–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–æ–ª–∏:**
- `'user'` ‚Äî –æ–±—ã—á–Ω—ã–π —é–∑–µ—Ä (default)
- `'admin'` ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

**–ì–¥–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ä–æ–ª–∏:**

| –ú–µ—Å—Ç–æ | –ö–∞–∫ | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ |
|-------|-----|------|--------|
| Backend | `get_admin_user()` –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `role == 'admin'` | `/backend/api/admin_auth.py` | 8-33 |
| Frontend | Zustand store `isAdmin` —Ñ–ª–∞–≥ | `/frontend/src/store/admin.ts` | - |
| Frontend routing | `ProtectedAdminRoute` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | `/frontend/src/components/router/` | - |

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω:**
1. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤—ã–∑—ã–≤–∞–µ—Ç `/api/admin/messages/unread-count`
2. –≠—Ç–æ—Ç endpoint —Ç—Ä–µ–±—É–µ—Ç `get_admin_user()` (–ø—Ä–æ–≤–µ—Ä–∫–∞ role –≤ –ë–î)
3. –ï—Å–ª–∏ `role != 'admin'` ‚Üí –≤–µ—Ä–Ω–µ—Ç—Å—è 401
4. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ª–æ–≤–∏—Ç –æ—à–∏–±–∫—É –∏ —Å—Ç–∞–≤–∏—Ç `isAdmin = false`

### 1.4 –ß—Ç–æ –†–ï–ê–õ–¨–ù–û —Ä–∞–±–æ—Ç–∞–µ—Ç, —á—Ç–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ, —á—Ç–æ –∑–∞–≥–ª—É—à–∫–∞?

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –§–∞–∫—Ç—ã |
|---------|--------|-------|
| **Login** | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ | Email ‚Üí localStorage ‚Üí —Ñ—Ä–æ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ X-User-Email –∑–∞–≥–æ–ª–æ–≤–∫–µ |
| **Logout** | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ | –û—á–∏—â–∞–µ—Ç email –∏–∑ localStorage |
| **Auto user create** | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ | –õ—é–±–æ–π email ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è user –≤ –ë–î |
| **Admin check** | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `role == 'admin'` –≤ –ë–î —á–µ—Ä–µ–∑ `get_admin_user()` |
| **Admin endpoints** | ‚úÖ –†–ê–ë–û–¢–ê–Æ–¢ | `/api/admin/*` –≤—Å–µ –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ `get_admin_user()` |
| **Plan system** | ‚ùå –ù–ï –ü–û–î–ö–õ–Æ–ß–ï–ù–û | –ü–æ–ª–µ `plan_id` –µ—Å—Ç—å –≤ –ë–î –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∏–≥–¥–µ |
| **Permissions** | ‚ùì –ß–ê–°–¢–ò–ß–ù–û | –¢–æ–ª—å–∫–æ admin/user, –Ω–∏–∫–∞–∫–∏—Ö –¥—Ä—É–≥–∏—Ö —Ä–æ–ª–µ–π –Ω–µ—Ç |

### 1.5 –Ø–í–ù–´–ï –û–¢–í–ï–¢–´ –ù–ê –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –í–û–ü–†–û–°–´

**‚ùì –ú–æ–∂–Ω–æ –ª–∏ —Å–µ–π—á–∞—Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?**

‚úÖ **–î–ê. –ù–æ —ç—Ç–æ –ë–†–ï–®–¨ –í –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò.**

–õ—é–±–æ–π –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å X-User-Email –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —é–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –ë–î. –ù–µ—Ç:
- Email –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- Confirmation email
- –ó–∞—â–∏—Ç—ã –æ—Ç spam —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤

**‚ùì –ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–ª–∏—á–∏—Ç—å admin –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ user?**

‚úÖ **–î–ê, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ –ë–î.**

–ù–æ:
- **–ù–µ—Ç UI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∞** ‚Äî –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å `/backend/create_admin.py` –∏–ª–∏ UPDATE –∑–∞–ø—Ä–æ—Å –≤ sqlite3
- **–ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–ª–∞—Ç–µ–∂–∏, —é–∑–µ—Ä–æ–≤. –ù–µ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–µ–¥–∏—Ç—ã –∏–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —é–∑–µ—Ä–æ–≤ (–ø–æ—á—Ç–∏ –Ω–µ—Ç —Ñ—É–Ω–∫—Ü–∏–π).

### 1.6 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

1. **–ù–µ—Ç –ø–∞—Ä–æ–ª–µ–π** ‚Äî –µ—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –∑–Ω–∞–µ—Ç —á—É–∂–æ–π email, –æ–Ω –º–æ–∂–µ—Ç –∑–∞–ª–µ–∑—Ç—å –≤ —á—É–∂–æ–π –∞–∫–∫–∞—É–Ω—Ç
2. **–ù–µ—Ç session management** ‚Äî –µ—Å–ª–∏ —é–∑–µ—Ä –ª–æ–≥–∏–Ω–∏—Ç—Å—è —Å —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤, –æ–Ω–∏ –≤–∏–¥—è—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ
3. **plan_id –ø–æ–ª–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Äî –µ—Å—Ç—å –≤ –ë–î, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
4. **–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ email —Ñ–æ—Ä–º–∞—Ç–∞** ‚Äî `get_current_user()` –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —á—Ç–æ —ç—Ç–æ –≤–æ–æ–±—â–µ email

---

## ================================================
## –†–ê–ó–î–ï–õ 2 ‚Äî –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–û–î–ê (CORE)
## ================================================

### 2.1 Frontend: –∏–Ω–∏—Ü–∏–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–§–∞–π–ª:** `/frontend/src/app/playground/page.tsx` (—Å—Ç—Ä–æ–∫–∏ 92-185)

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –≤–≤–æ–¥–∏—Ç URL
2. –ù–∞–∂–∏–º–∞–µ—Ç "Generate" ‚Üí `handleGenerate()`
3. –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   ```
   - generationType: "create"
   - inputMode: "image" –∏–ª–∏ "text"
   - prompt: { text: –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, images: [preview] }
   - generatedCodeConfig: —Ñ–æ—Ä–º–∞—Ç (html_tailwind, react_tailwind, vue_tailwind, bootstrap, ionic, svg)
   - codeGenerationModel: MODEL (Claude, GPT-4o, Gemini)
   ```
4. –í—ã–∑—ã–≤–∞–µ—Ç `generateCode(wsRef, params, callbacks)`

### 2.2 Backend WebSocket Handler –∏ –û—á–µ—Ä–µ–¥—å

**–§–∞–π–ª:** `/backend/routes/generate_code.py` (—Å—Ç—Ä–æ–∫–∏ 1351-1408)

**Endpoint:** `@router.websocket("/generate-code")`

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –ü–æ–ª—É—á–∞–µ—Ç params –≤ JSON
3. –°–æ–∑–¥–∞–µ—Ç generation_id
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î —Å—Ç–∞—Ç—É—Å "queued"
5. –°–æ–∑–¥–∞–µ—Ç GenerationJob –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ asyncio.Queue

**–û—á–µ—Ä–µ–¥—å:** `/backend/gen_queue/generation_queue.py`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Python `asyncio.Queue` (FIFO)
- –û–¥–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ —Ä–∞–∑

### 2.3 Pipeline: 6 Middleware —ç—Ç–∞–ø–æ–≤

**–§–∞–π–ª:** `/backend/routes/generate_code.py`

1. **WebSocketSetupMiddleware** (—Å—Ç—Ä–æ–∫–∏ 1079-1123) ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç WebSocketCommunicator
2. **ParameterExtractionMiddleware** (—Å—Ç—Ä–æ–∫–∏ 1126-1167) ‚Äî –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. **StatusBroadcastMiddleware** (—Å—Ç—Ä–æ–∫–∏ 1170-1192) ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å "Generating code..."
4. **PromptCreationMiddleware** (—Å—Ç—Ä–æ–∫–∏ 1195-1223) ‚Äî —Å–æ–∑–¥–∞–µ—Ç prompt
5. **CodeGenerationMiddleware** (—Å—Ç—Ä–æ–∫–∏ 1225-1313) ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Claude/OpenAI/Gemini
6. **PostProcessingMiddleware** (—Å—Ç—Ä–æ–∫–∏ 1316-1348) ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

### 2.4 Streaming: Real-time –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ú–µ—Ö–∞–Ω–∏–∑–º:**
1. –ú–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç chunk ‚Üí callback –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
2. Callback –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JSON –≤ WebSocket (—Ç–∏–ø: "chunk", –∑–Ω–∞—á–µ–Ω–∏–µ, –∏–Ω–¥–µ–∫—Å –≤–∞—Ä–∏–∞–Ω—Ç–∞)
3. Frontend –ø–æ–ª—É—á–∞–µ—Ç chunk –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ UI

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑—Ä—ã–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:**
- –ü—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ –∫–ª–∏–µ–Ω—Ç–∞: `asyncio.CancelledError` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è, WebSocket –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è gracefully
- WebSocket timeout: 5 –º–∏–Ω—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å —Ç–µ–º –∂–µ `generation_id`

### 2.5 Persistence: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

**–¢–∞–±–ª–∏—Ü—ã:**
- `generations` ‚Äî –¥–ª—è UI (–æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
- `generation_variants` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (html, duration, status)
- `api_generations` ‚Äî –¥–ª—è REST API (—Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏)

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
- –°—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ —Ç–∞–±–ª–∏—Ü—É `generation_variants`
- –ü—Ä–∏ –æ—à–∏–±–∫–µ —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è error_message
- –ù–µ—Ç —è–≤–Ω–æ–≥–æ —Å—Ä–æ–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ, –¥–æ —É–¥–∞–ª–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é)

### 2.6 –û—à–∏–±–∫–∏ –∏ Edge Cases

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- –ü—Ä–∏ OpenAI auth error ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "Incorrect OpenAI key..."
- –ü—Ä–∏ rate limit ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "Rate limit exceeded..."
- –ü—Ä–∏ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–∫–∞—Ö API ‚Üí generic "API error"

**Retry Logic (–¥–ª—è React/Vue):**
1. –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å HTML
2. –ï—Å–ª–∏ –Ω–µ –≤–∞–ª–∏–¥–µ–Ω: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç repair instruction –∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç
3. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –≤–∞–ª–∏–¥–µ–Ω: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (fallback)

**Graceful Error Handling:**
- Post-processing –æ—à–∏–±–∫–∏ –Ω–µ —Ä–∞–∑—Ä—É—à–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ï—Å–ª–∏ WebSocket —Ä–∞–∑–æ—Ä–≤–∞–Ω ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ —Ä–∞–≤–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –ë–î
- VariantErrorAlreadySent –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 2.7 –û—Ç–≤–µ—Ç—ã –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã

**‚ùì –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ?**

‚úÖ **–î–ê, –≤ —Ü–µ–ª–æ–º —Å—Ç–∞–±–∏–ª—å–Ω–æ.**
- –ï—Å—Ç—å retry –ª–æ–≥–∏–∫–∞ –¥–ª—è React/Vue
- Graceful error handling
- WebSocket streaming –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**‚ùì –ï—Å—Ç—å –ª–∏ race conditions?**

‚ö†Ô∏è **–í–û–ó–ú–û–ñ–ù–´ –≤ –æ—á–µ—Ä–µ–¥–∏:**
- –ï—Å–ª–∏ –¥–≤–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ ‚Äî –æ–Ω–∏ –º–æ–≥—É—Ç –ø–µ—Ä–µ–ø—É—Ç–∞—Ç—å—Å—è
- asyncio.Queue –æ–±—ã—á–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–∞, –Ω–æ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞

**‚ùì –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ?**

‚úÖ **–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É:**
- –ß–µ—Ä–µ–∑ WebSocket —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–∏–ø–∞ "variantError"
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ failed –≤ –ë–î
- –ö—Ä–µ–¥–∏—Ç—ã **–ù–ï –í–û–ó–í–†–ê–©–ê–Æ–¢–°–Ø** (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞!)

---

## ================================================
## –†–ê–ó–î–ï–õ 3 ‚Äî API (PUBLIC)
## ================================================

### 3.1 –í–°–ï API ENDPOINTS (–ü–û–õ–ù–´–ô –°–ü–ò–°–û–ö)

#### HEALTH & STATUS
| Endpoint | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å |
|----------|-------|--------|
| `/api/health` | GET | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

#### GENERATION ENDPOINTS
| Endpoint | –ú–µ—Ç–æ–¥ | Auth | –°—Ç–∞—Ç—É—Å |
|----------|-------|------|--------|
| `POST /api/generate` | POST | X-API-Key | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `GET /api/generations/{id}` | GET | X-API-Key | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `WS /api/stream/{id}` | WebSocket | Query: api_key | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

#### FORMATS & LIMITS
| Endpoint | –ú–µ—Ç–æ–¥ | Auth | –°—Ç–∞—Ç—É—Å |
|----------|-------|------|--------|
| `GET /api/formats` | GET | X-API-Key | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `GET /api/limits` | GET | X-API-Key | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

#### FEEDBACK ENDPOINT (Public)
| Endpoint | –ú–µ—Ç–æ–¥ | Auth | –°—Ç–∞—Ç—É—Å |
|----------|-------|------|--------|
| `POST /api/feedback` | POST | –ù–µ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

#### ADMIN ENDPOINTS - Messages
| Endpoint | –ú–µ—Ç–æ–¥ | Auth | –°—Ç–∞—Ç—É—Å |
|----------|-------|------|--------|
| `GET /api/admin/messages` | GET | X-User-Email + admin | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `GET /api/admin/messages/unread-count` | GET | X-User-Email + admin | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `GET /api/admin/messages/{id}` | GET | X-User-Email + admin | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `PATCH /api/admin/messages/{id}/read` | PATCH | X-User-Email + admin | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `DELETE /api/admin/messages/{id}` | DELETE | X-User-Email + admin | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

#### ADMIN ENDPOINTS - Users
| Endpoint | –ú–µ—Ç–æ–¥ | Auth | –°—Ç–∞—Ç—É—Å |
|----------|-------|------|--------|
| `GET /api/admin/users` | GET | X-User-Email + admin | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `POST /api/admin/users/change-plan` | POST | X-User-Email + admin | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `PATCH /api/admin/users/disable` | PATCH | X-User-Email + admin | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

#### ADMIN ENDPOINTS - Payments
| Endpoint | –ú–µ—Ç–æ–¥ | Auth | –°—Ç–∞—Ç—É—Å |
|----------|-------|------|--------|
| `GET /api/admin/payments` | GET | X-User-Email + admin | ‚ö†Ô∏è –ü—É—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞ |

### 3.2 API KEY AUTHENTICATION

**–§–∞–π–ª:** `/backend/api/auth.py`

- –•–µ—à–∏—Ä—É–µ—Ç API –∫–ª—é—á SHA256
- –ò—â–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `api_keys` –≥–¥–µ `key_hash = ?` AND `is_active = 1`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: id, tier, credits_total, credits_used, rate_limit_concurrent, rate_limit_hourly

### 3.3 –ö–∞–∫–∏–µ endpoints –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º?

**–†–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ:**
- ‚ùå `/api/generate` ‚Äî –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç WebSocket /generate-code)
- ‚ùå `/api/formats` ‚Äî —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- ‚ùå `/api/limits` ‚Äî —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ `/api/feedback` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ /app/feedback
- ‚úÖ `/api/admin/messages` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ /admin/messages
- ‚úÖ `/api/admin/messages/unread-count` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è admin check
- ‚úÖ `/api/admin/users` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ /admin/users
- ‚úÖ `/api/admin/payments` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ /admin/payments

### 3.4 –Ø–í–ù–´–ï –û–¢–í–ï–¢–´

**‚ùì –ú–æ–∂–Ω–æ –ª–∏ —Å–µ–π—á–∞—Å –¥–∞—Ç—å API —Å—Ç–æ—Ä–æ–Ω–Ω–µ–º—É –∫–ª–∏–µ–Ω—Ç—É?**

‚ö†Ô∏è **–£–°–õ–û–í–ù–û. –ù–æ –µ—Å—Ç—å —Å–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- API –≥–æ—Ç–æ–≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ (endpoints —Ä–∞–±–æ—Ç–∞—é—Ç)
- –ù–æ –Ω–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
- –ö—Ä–µ–¥–∏—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è API –∫–ª—é—á–µ–π, –Ω–µ –¥–ª—è UI
- –ù–µ—Ç rate limiting –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
- –ü–ª–∞—Ç–µ–∂–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

**‚ùì –ß—Ç–æ –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–º —É–∑–∫–∏–º –º–µ—Å—Ç–æ–º?**

üî¥ **–õ–∏–º–∏—Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—Å–∏—Ç—å rate_limit_hourly –∏ rate_limit_concurrent. –õ–∏–º–∏—Ç—ã —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—é—Ç—Å—è, –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è.

---

## ================================================
## –†–ê–ó–î–ï–õ 4 ‚Äî –¢–ê–†–ò–§–´, CREDITS, LIMITS
## ================================================

### 4.1 –°–ò–°–¢–ï–ú–ê –ö–†–ï–î–ò–¢–û–í

**–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–æ–≤:**
```
html_tailwind: 1 –∫—Ä–µ–¥–∏—Ç
html_css: 1 –∫—Ä–µ–¥–∏—Ç
react_tailwind: 2 –∫—Ä–µ–¥–∏—Ç–∞
vue_tailwind: 2 –∫—Ä–µ–¥–∏—Ç–∞
```

**–ö–æ–≥–¥–∞ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∫—Ä–µ–¥–∏—Ç—ã:**
- **–°–†–ê–ó–£ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ** –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `available >= required` (–µ—Å–ª–∏ –Ω–µ—Ç ‚Üí 402 Payment Required)
- –ï—Å–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–ø–∞–¥–µ—Ç ‚Äî **–∫—Ä–µ–¥–∏—Ç—ã –ù–ï –í–û–ó–í–†–ê–©–ê–Æ–¢–°–Ø** (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞!)

**–ö–∞–∫ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫—Ä–µ–¥–∏—Ç—ã –≤ –ë–î:**
- –¢–∞–±–ª–∏—Ü–∞ `api_keys`
- `credits_total` ‚Äî –≤—Å–µ–≥–æ –∫—É–ø–ª–µ–Ω–æ
- `credits_used` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ
- `available = credits_total - credits_used`

### 4.2 –ü–õ–ê–ù–´ –ò –¢–ê–†–ò–§–´

**–¢–∞–±–ª–∏—Ü–∞ `plans` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** –Ω–æ **–ù–ï –ó–ê–ü–û–õ–ù–ï–ù–ê** –∏ **–ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø**.

**–ü–ª–∞–Ω–æ–≤—ã–µ –ø–ª–∞–Ω—ã** (–∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞):
- **Free:** 500 –∫—Ä–µ–¥–∏—Ç–æ–≤/–º–µ—Å—è—Ü, $0/–º–µ—Å—è—Ü
- **Basic:** 5000 –∫—Ä–µ–¥–∏—Ç–æ–≤/–º–µ—Å—è—Ü, $29/–º–µ—Å—è—Ü (2490‚ÇΩ)
- **Professional:** 25000 –∫—Ä–µ–¥–∏—Ç–æ–≤/–º–µ—Å—è—Ü, $99/–º–µ—Å—è—Ü (8490‚ÇΩ)

**–î–æ—Å—Ç—É–ø –ø–æ tier:**
- React/Vue —Ñ–æ—Ä–º–∞—Ç—ã —Ç—Ä–µ–±—É—é—Ç `tier = "pro"`
- Free tier –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ HTML —Ñ–æ—Ä–º–∞—Ç—ã

### 4.3 –õ–ò–ú–ò–¢–´ (RATE LIMITING)

**–î–≤–∞ —Ç–∏–ø–∞ –ª–∏–º–∏—Ç–æ–≤:**

1. **Concurrent limit** ‚Äî –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - Free: 10 (–¥–µ—Ñ–æ–ª—Ç)
   - Basic: 10
   - Professional: 50

2. **Hourly limit** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ —á–∞—Å
   - Free: 100
   - Basic: 50
   - Professional: 200

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:**
- **–õ–∏–º–∏—Ç—ã –ù–ï –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π!**
- –¢–æ–ª—å–∫–æ **–ß–ò–¢–ê–Æ–¢–°–Ø** –≤ —ç–Ω–¥–ø–æ–∏–Ω—Ç–µ `/api/limits`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—Å–∏—Ç—å –æ–±–∞ –ª–∏–º–∏—Ç–∞ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### 4.4 –§–†–û–ù–¢–ï–ù–î –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï

**–ù–µ—Ç UI –¥–ª—è –ø–æ–∫–∞–∑–∞:**
- –û—Å—Ç–∞–ª–æ—Å—å –∫—Ä–µ–¥–∏—Ç–æ–≤
- –°—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
- –õ–∏–º–∏—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- –¢–µ–∫—É—â–µ–≥–æ –ø–ª–∞–Ω–∞

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Playground –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–ù–ï –≤–∏–¥–∏—Ç** —á—Ç–æ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ 402.

### 4.5 PAYWALL (–ó–ê–ì–õ–£–®–ö–ê)

**–ß—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç 402 –µ—Å–ª–∏ –Ω–µ—Ç –∫—Ä–µ–¥–∏—Ç–æ–≤
- ‚úÖ –ö—Ä–µ–¥–∏—Ç—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ë–î

**–ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚ùå –õ–∏–º–∏—Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è
- ‚ùå –§–æ—Ä–º–∞—Ç—ã –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (Pro —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
- ‚ùå –ù–µ—Ç UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

---

## ================================================
## –†–ê–ó–î–ï–õ 5 ‚Äî BILLING –ò –ü–õ–ê–¢–ï–ñ–ò
## ================================================

### 5.1 BILLING UI (–§–†–û–ù–¢–ï–ù–î)

**–°—Ç—Ä–∞–Ω–∏—Ü–∞:** `/frontend/src/app/settings/billing/page.tsx`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **Current Plan Card** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
   - –ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ (Basic)
   - –¶–µ–Ω–∞ ($29/month)
   - Progress bar –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫—Ä–µ–¥–∏—Ç–æ–≤ (47% –∑–∞–ø–æ–ª–Ω–µ–Ω–æ)
   - –ö–Ω–æ–ø–∫–∞ "Buy More" (–Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç)

2. **Billing History Card** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
   - –¢–∞–±–ª–∏—Ü–∞ —Å fake –¥–∞–Ω–Ω—ã–º–∏
   - –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π —Å –¥–∞—Ç–∞–º–∏ –∏ —Å—É–º–º–∞–º–∏

3. **Available Plans** ‚Äî —Ç—Ä–∏ –ø–ª–∞–Ω–∞:
   - Free ($0/month)
   - Basic ($29/month) ‚Äî –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ "Most Popular"
   - Professional ($99/month)

**–î–ê–ù–ù–´–ï:** ‚úÖ –ï—Å—Ç—å JSON —Ñ–∞–π–ª—ã, –Ω–æ —ç—Ç–æ **–§–ï–ô–ö–û–í–´–ï –î–ê–ù–ù–´–ï**

### 5.2 PAYMENTS –¢–ê–ë–õ–ò–¶–ê –ò –õ–û–ì–ò–ö–ê

**–°—Ç–∞—Ç—É—Å: ‚ùå –¢–ê–ë–õ–ò–¶–ê –ù–ï –°–û–ó–î–ê–ù–ê**

–í –ë–î –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–∞–±–ª–∏—Ü—ã:
- `payments` ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
- `subscriptions` ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫

**–ü–ª–∞–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞):
```sql
CREATE TABLE payments (
    id TEXT PRIMARY KEY,
    user_id TEXT,
    type TEXT ('subscription', 'topup'),
    amount INTEGER (–≤ –∫–æ–ø–µ–π–∫–∞—Ö),
    status TEXT ('pending', 'succeeded', 'cancelled'),
    yukassa_payment_id TEXT UNIQUE,
    created_at TIMESTAMP,
    completed_at TIMESTAMP
);

CREATE TABLE subscriptions (
    id TEXT PRIMARY KEY,
    user_id TEXT,
    plan_id TEXT ('free', 'basic', 'professional'),
    status TEXT ('active', 'cancelled'),
    current_period_end TIMESTAMP
);
```

### 5.3 YUKASSA –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

**–°—Ç–∞—Ç—É—Å: ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê (–¢–û–õ–¨–ö–û –ü–õ–ê–ù)**

**–ú–æ–¥—É–ª—å:** `/backend/api/billing/`
- –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ TODO —Å–ø–∏—Å–æ–∫ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

**–ü–ª–∞–Ω–æ–≤—ã–µ endpoints** (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã):
```
POST   /api/billing/subscribe
POST   /api/billing/buy-credits
POST   /api/billing/webhook
GET    /api/billing/payment/:id
POST   /api/billing/cancel-subscription
```

### 5.4 –§–†–û–ù–¢–ï–ù–î –ü–õ–ê–¢–ï–ñ–ò

**–ö–Ω–æ–ø–∫–∞ "Buy More":**
```javascript
onClick={() => console.log('Buy more credits')}  // –¢–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ—Ç!
```

**–ö–Ω–æ–ø–∫–∏ "Upgrade Plan":**
```javascript
onPlanSelect={handlePlanSelect}  // –¢–æ–∂–µ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ—Ç
```

**–§–æ—Ä–º–∞ –æ–ø–ª–∞—Ç—ã:** ‚ùå **–ù–ï –°–£–©–ï–°–¢–í–£–ï–¢**

**–†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ø–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑:** ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù**

### 5.5 API –ö–õ–ò–ï–ù–¢ (MOCK)

**–§–∞–π–ª:** `/frontend/src/logic/billing/api.ts`

**–í–°–ï —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç MOCK –¥–∞–Ω–Ω—ã–µ:**
```typescript
export async function subscribe(planId: string): Promise<PaymentResponse> {
  console.warn('[BILLING] subscribe() - TODO: implement')
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç mock –ø–ª–∞—Ç–µ–∂
}

export async function buyCredits(packageId: string): Promise<PaymentResponse> {
  console.warn('[BILLING] buyCredits() - TODO: implement')
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç mock –ø–ª–∞—Ç–µ–∂
}

export async function getPaymentStatus(paymentId: string): Promise<PaymentStatus> {
  console.warn('[BILLING] getPaymentStatus() - TODO: implement')
  // –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "succeeded"
}
```

### 5.6 –°–¢–ê–¢–£–° –ü–õ–ê–¢–ï–ñ–ï–ô (–ê–î–ú–ò–ù)

**–§–∞–π–ª:** `/backend/api/routes/admin/payments.py`

```python
@router.get("/api/admin/payments")
async def get_payments():
    # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–ª–∏—Ü—ã payments
    if not table_exists:
        return {
            "payments": [],
            "totalSum": 0,
            "message": "Payments table not created yet."
        }
```

### 5.7 –Ø–í–ù–´–ï –û–¢–í–ï–¢–´

**‚ùì –ï—Å—Ç—å –ª–∏ —Ä–µ–∞–ª—å–Ω—ã–π paywall?**

‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û:**
- ‚úÖ API –∫–ª—é—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∫—Ä–µ–¥–∏—Ç–∞–º–∏
- ‚ùå –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π UI –Ω–∏–∫–∞–∫ –Ω–µ —Å–≤—è–∑–∞–Ω —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏
- ‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**‚ùì –ú–æ–∂–Ω–æ –ª–∏ —Å–µ–π—á–∞—Å –±—Ä–∞—Ç—å –¥–µ–Ω—å–≥–∏?**

‚ùå **–ù–ï–¢. –ê–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ –≥–æ—Ç–æ–≤–æ:**
- –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º
- –ù–µ—Ç —Ç–∞–±–ª–∏—Ü –≤ –ë–î –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
- –í—Å–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É—é—Ç

**‚ùì –ß—Ç–æ —Ç–æ–ª—å–∫–æ ¬´–Ω–∞ –±—É–º–∞–≥–µ¬ª?**

‚ùå **–í—Å—ë –∫—Ä–æ–º–µ API –∫–ª—é—á–µ–π:**
- –ü–ª–∞–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Ç–∏–ø–∞—Ö TypeScript
- –ü–ª–∞—Ç–µ–∂–∏ —Ç–æ–ª—å–∫–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ö—Ä–µ–¥–∏—Ç—ã –¥–ª—è UI —Ç–æ–ª—å–∫–æ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (–≤ –∫–æ–¥–µ –µ—Å—Ç—å, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YuKassa —Ç–æ–ª—å–∫–æ –≤ README

---

## ================================================
## –†–ê–ó–î–ï–õ 6 ‚Äî ADMIN –ò FEEDBACK
## ================================================

### 6.1 –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–°–ö–ê–Ø –ü–ê–ù–ï–õ–¨

#### ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

**`/admin/messages`** ‚Äî –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
- –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –æ—Ç –∫–æ–≥–æ, —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ, –¥–∞—Ç–∞, —Å—Ç–∞—Ç—É—Å (–ø—Ä–æ—á–∏—Ç–∞–Ω–æ/–Ω–æ–≤–æ–µ)
- –§–∏–ª—å—Ç—Ä—ã: –ø–æ email, –ø–æ —Å—Ç–∞—Ç—É—Å—É (–≤—Å–µ/–Ω–æ–≤—ã–µ/–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è: 10 —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –û–ø–µ—Ä–∞—Ü–∏–∏: —É–¥–∞–ª–µ–Ω–∏–µ, –æ—Ç–∫—Ä—ã—Ç–∏–µ –¥–µ—Ç–∞–ª–µ–π

**`/admin/messages/:id`** ‚Äî –î–µ—Ç–∞–ª—å —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ (email, –∏–º—è, –¥–∞—Ç–∞)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ
- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

**`/admin/users`** ‚Äî –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Email, –ø–ª–∞–Ω, —Ä–æ–ª—å (Admin/User), –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- –§–∏–ª—å—Ç—Ä –ø–æ email (real-time –ø–æ–∏—Å–∫)
- –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞

**`/admin/payments`** ‚Äî –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–æ—Ç–æ–≤ (—Ç–∞–±–ª–∏—Ü–∞, —Ñ–∏–ª—å—Ç—Ä—ã)
- –ù–æ –ë–î –ø—É—Å—Ç–∞—è —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º: "Payments table not created yet"

### 6.2 BACKEND ADMIN ENDPOINTS

#### Messages Endpoints

| Endpoint | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|----------|-------|--------|-----------|
| `/api/admin/messages` | GET | ‚úÖ | –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (10/—Å—Ç—Ä–∞–Ω–∏—Ü–∞) |
| `/api/admin/messages/{id}` | GET | ‚úÖ | –û–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è |
| `/api/admin/messages/{id}/read` | PATCH | ‚úÖ | –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ |
| `/api/admin/messages/{id}` | DELETE | ‚úÖ | –£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ |
| `/api/admin/messages/unread-count` | GET | ‚úÖ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö |

#### Users Endpoints

| Endpoint | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å |
|----------|-------|--------|
| `/api/admin/users` | GET | ‚úÖ |
| `/api/admin/users/change-plan` | POST | ‚úÖ (–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) |
| `/api/admin/users/disable` | PATCH | ‚úÖ (–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) |

### 6.3 –°–ò–°–¢–ï–ú–ê –û–ë–†–ê–¢–ù–û–ô –°–í–Ø–ó–ò (FEEDBACK)

**–§—Ä–æ–Ω—Ç–µ–Ω–¥:** `/frontend/src/app/feedback/index.tsx`
- –§–æ—Ä–º–∞ —Å email –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ–º (–º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- POST `/api/feedback`

**–ë—ç–∫–µ–Ω–¥:** `/backend/api/routes/feedback.py`
1. –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç email –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ë–î
   - –ï—Å–ª–∏ –µ—Å—Ç—å: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ ID
   - –ï—Å–ª–∏ –Ω–µ—Ç: —Å–æ–∑–¥–∞–µ—Ç —Å role='user', plan_id='free'
3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü—É `admin_messages`
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"ok": true}`

**–¢–∞–±–ª–∏—Ü–∞ `admin_messages`:**
```sql
CREATE TABLE admin_messages (
    id TEXT PRIMARY KEY,
    email TEXT,
    firstName TEXT,       -- –í—Å–µ–≥–¥–∞ –ø—É—Å—Ç–æ
    lastName TEXT,        -- –í—Å–µ–≥–¥–∞ –ø—É—Å—Ç–æ
    subject TEXT,         -- –ü–µ—Ä–≤—ã–µ 50 —Å–∏–º–≤–æ–ª–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏—è + "..."
    message TEXT,         -- –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç
    userId TEXT,          -- FK –Ω–∞ users.id
    createdAt INTEGER,    -- Unix timestamp
    isRead INTEGER DEFAULT 0,
    FOREIGN KEY (userId) REFERENCES users(id)
)
```

### 6.4 –ê–î–ú–ò–ù –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
1. Frontend —á–∏—Ç–∞–µ—Ç email –∏–∑ localStorage
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ X-User-Email –∑–∞–≥–æ–ª–æ–≤–∫–µ
3. Backend `get_current_user()` —á–∏—Ç–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫
4. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π
5. Admin routes –∏—Å–ø–æ–ª—å–∑—É—é—Ç `get_admin_user()` –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
6. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `role == 'admin'` –≤ –ë–î
7. –ï—Å–ª–∏ –Ω–µ –∞–¥–º–∏–Ω ‚Äî 403 Forbidden

**–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∞–¥–º–∏–Ω–æ–º:**
```bash
sqlite3 backend/data/app.db "UPDATE users SET role='admin' WHERE email='test@example.com';"
```

### 6.5 –î–ò–ù–ê–ú–ò–ß–ï–°–ö–û–ï –ú–ï–ù–Æ

**–§–∞–π–ª:** `/frontend/src/components/app-sidebar.tsx`

Admin —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ `isAdmin = true`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤—ã–∑—ã–≤–∞–µ—Ç GET `/api/admin/messages/unread-count`
- –ï—Å–ª–∏ —É—Å–ø–µ—Ö ‚Üí –∞–¥–º–∏–Ω, –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí –Ω–µ –∞–¥–º–∏–Ω

### 6.6 –Ø–í–ù–´–ï –û–¢–í–ï–¢–´

**‚ùì –ú–æ–∂–µ—Ç –ª–∏ –∞–¥–º–∏–Ω —Å–µ–π—á–∞—Å —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏?**

‚ö†Ô∏è **–ú–û–ñ–ï–¢ –ü–†–û–°–ú–û–¢–†–ï–¢–¨, –ù–û –ù–ï –ú–û–ñ–ï–¢ –£–ü–†–ê–í–õ–Ø–¢–¨:**
- ‚úÖ –ú–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–ª–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (endpoint —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚úÖ –ú–æ–∂–µ—Ç –æ—Ç–∫–ª—é—á–∏—Ç—å/–≤–∫–ª—é—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (endpoint —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚ùå –ù–æ –Ω–µ—Ç UI —Ñ–æ—Ä–º –¥–ª—è —ç—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚ùå –ù–µ—Ç –∫–Ω–æ–ø–æ–∫ "Edit", "Disable", "Change Plan"

**‚ùì –ß—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–ª–æ–º–∞–Ω–æ?**

‚úÖ **–ù–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–Ω–æ, –Ω–æ –Ω–µ–¥–æ–¥–µ–ª–∞–Ω–æ:**
- Feedback —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü–ª–∞—Ç–µ–∂–∏ —Ç–∞–±–ª–∏—Ü–∞ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –±—É–¥—É—â–µ–≥–æ

---

## ================================================
## –†–ê–ó–î–ï–õ 7 ‚Äî UX –ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ô –ü–£–¢–¨
## ================================================

### 7.1 –ù–û–í–´–ô –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ ‚Äî –ü–ï–†–í–´–ô –í–•–û–î

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ó–∞—Ö–æ–¥–∏—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é (/)
2. –ê–≤—Ç–æ—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /dashboard
3. –í–∏–¥–∏—Ç —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å, –Ω–æ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω

### 7.2 –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –ò –õ–û–ì–ò–ù

**–§–æ—Ä–º–∞ –ª–æ–≥–∏–Ω–∞:** `/frontend/src/app/auth/sign-in/page.tsx`
- Email (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –≤–∞–ª–∏–¥–∞—Ü–∏—è)
- Password (—Ç—Ä–µ–±—É–µ—Ç—Å—è, –Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ!)
- –ö–Ω–æ–ø–∫–∞ Login (—Å Google –≤–∞—Ä–∏–∞–Ω—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- –°—Å—ã–ª–∫–∞ Sign Up ‚Üí –≤–µ–¥–µ—Ç –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—É—Ç—å (404)

**–ü–†–û–ë–õ–ï–ú–ê #1:** –ü–∞—Ä–æ–ª—å –≤–≤–æ–¥–∏—Ç—Å—è, –Ω–æ –±—ç–∫–µ–Ω–¥ –µ–≥–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç. –õ—é–±–æ–π email –º–æ–∂–µ—Ç –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è.

**–ü–†–û–ë–õ–ï–ú–ê #2:** –ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/app/playground` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `/playground`)

### 7.3 –ü–ï–†–í–ê–Ø –ì–ï–ù–ï–†–ê–¶–ò–Ø

**–ü—Ä–æ—Ü–µ—Å—Å –Ω–∞ Playground:**
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ URL
2. –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
3. –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç (HTML, React, Vue)
4. –ù–∞–∂–∞—Ç—å "Generate"
5. –°–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏–Ω–Ω–µ—Ä
6. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –¥–≤—É—Ö —Ç–∞–±–∞—Ö (Preview –∏ Code)

**–ü–†–û–ë–õ–ï–ú–ê #3:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—Ä–µ–¥–∏—Ç–æ–≤/–ª–∏–º–∏—Ç–æ–≤ –î–û –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å "Generate" –∏ –Ω–µ –∑–Ω–∞–µ—Ç —á—Ç–æ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞

**–ü–†–û–ë–õ–ï–ú–ê #4:** Pro —Ñ–æ—Ä–º–∞—Ç—ã –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- –ï—Å–ª–∏ –≤—ã–±—Ä–∞—Ç—å React ‚Äî —Ñ–æ—Ä–º–∞ –Ω–µ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç
- –û—à–∏–±–∫–∞ –ø—Ä–∏–¥–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Å–µ—Ä–≤–µ—Ä–∞

**–ü–†–û–ë–õ–ï–ú–ê #5:** –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–Ω—É—é –∫–æ—Ä–æ–±–∫—É "Error"
- –ù–µ—Ç —Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–µ—Ç –∫—Ä–µ–¥–∏—Ç–æ–≤, –ª–∏–º–∏—Ç, –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)

**–ü–†–û–ë–õ–ï–ú–ê #6:** –ü—Ä–∏ –Ω—É–ª–µ–≤—ã—Ö –∫—Ä–µ–¥–∏—Ç–∞—Ö ‚Äî –Ω–∏–∫–∞–∫–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ!
- –°–ø–∏–Ω–Ω–µ—Ä –∏—Å—á–µ–∑–∞–µ—Ç, –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

### 7.4 –ò–°–¢–û–†–ò–Ø –ì–ï–ù–ï–†–ê–¶–ò–ô

**–°—Ç—Ä–∞–Ω–∏—Ü–∞:** `/frontend/src/app/history/page.tsx`

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –î–æ 10 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –¢–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (üì∑ –∏–ª–∏ üåê)
- –§–æ—Ä–º–∞—Ç (HTML, React, Vue)
- –î–∞—Ç–∞
- –ü–µ—Ä–≤—ã–µ 120 —Å–∏–º–≤–æ–ª–æ–≤ –∫–æ–¥–∞
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è

**–ü–†–û–ë–õ–ï–ú–ê #7:** –ò—Å—Ç–æ—Ä–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –¢–û–õ–¨–ö–û –≤ localStorage (–±—Ä–∞—É–∑–µ—Ä)
- –ü—Ä–∏ —Å–º–µ–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞ ‚Äî –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è –≤—Å–µ
- –ü—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –∫—ç—à–∞ ‚Äî –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è

**–ü–†–û–ë–õ–ï–ú–ê #8:** –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç–∞—Ä–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–æ –Ω–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∏ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å

### 7.5 –£–ü–ò–†–ê–ï–¢–°–Ø –í –õ–ò–ú–ò–¢/–ö–†–ï–î–ò–¢–´

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –ù–ï–¢ UI –¥–ª—è –ø–æ–∫–∞–∑–∞ –ª–∏–º–∏—Ç–æ–≤
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –≤–∏–¥–∏—Ç –æ—Å—Ç–∞–ª–æ—Å—å –∫—Ä–µ–¥–∏—Ç–æ–≤
- –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

**–ü—Ä–∏ –Ω—É–ª–µ–≤—ã—Ö –∫—Ä–µ–¥–∏—Ç–∞—Ö:**
- –ù–∞–∂–∏–º–∞–µ—Ç "Generate"
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–ø–∏–Ω–Ω–µ—Ä
- –ü–æ—Ç–æ–º –∏—Å—á–µ–∑–∞–µ—Ç
- **–ò... –ù–ò–ß–ï–ì–û –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**

**–ü–†–û–ë–õ–ï–ú–ê #9:** –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ!

**–ü–†–û–ë–õ–ï–ú–ê #10:** –ù–µ—Ç –∫–Ω–æ–ø–∫–∏ "–ö—É–ø–∏—Ç—å –∫—Ä–µ–¥–∏—Ç—ã" –Ω–∞ Playground
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —Å–∞–º –Ω–∞–π—Ç–∏ /settings/billing

### 7.6 BILLING –ü–£–¢–¨

**–°—Ç—Ä–∞–Ω–∏—Ü–∞:** `/frontend/src/app/settings/billing/page.tsx`

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
1. Current Plan Card ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –∫—Ä–µ–¥–∏—Ç—ã (progress bar)
2. Billing History ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –ø–ª–∞—Ç–µ–∂–µ–π (—Ñ–µ–π–∫)
3. Available Plans ‚Äî 3 –ø–ª–∞–Ω–∞ —Å —Ü–µ–Ω–∞–º–∏

**–ü–†–û–ë–õ–ï–ú–ê #11:** –ö–Ω–æ–ø–∫–∞ "Buy More" –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç
```javascript
onClick={() => console.log('Buy more credits')}  // –¢–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ—Ç!
```

**–ü–†–û–ë–õ–ï–ú–ê #12:** –ö–Ω–æ–ø–∫–∏ "Upgrade"/"Downgrade" –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
```javascript
onPlanSelect={handlePlanSelect}  // –¢–æ–∂–µ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ—Ç
```

**–ü–†–û–ë–õ–ï–ú–ê #13:** –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π ‚Äî —Ñ–µ–π–∫ –¥–∞–Ω–Ω—ã–µ
- –ù–∏–∫–∞–∫–∏–µ –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

### 7.7 FEEDBACK –ò –ö–û–ù–¢–ê–ö–¢–´

**–°—Ç—Ä–∞–Ω–∏—Ü–∞:** `/frontend/src/app/feedback/index.tsx`

**–§–æ—Ä–º–∞:**
- Email (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –°–æ–æ–±—â–µ–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, min 10 —Å–∏–º–≤–æ–ª–æ–≤)
- –ö–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"

**–ü—Ä–∏ —É—Å–ø–µ—Ö–µ:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!" —Å –≥–∞–ª–æ—á–∫–æ–π
- –ö–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—â–µ"

**–ü–†–û–ë–õ–ï–ú–ê #14:** –ù–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Ñ–æ—Ä–º–∞, –Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

**–ü–†–û–ë–õ–ï–ú–ê #15:** –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≥–¥–µ —É–≤–∏–¥–µ—Ç—å –æ—Ç–≤–µ—Ç
- "–ú—ã –æ—Ç–≤–µ—Ç–∏–º –≤–∞–º" ‚Äî –Ω–æ –∫–∞–∫?

### 7.8 –°–í–û–î–ö–ê –†–ê–ó–†–´–í–û–í UX

| # | –ü–†–û–ë–õ–ï–ú–ê | –ö–†–ò–¢–ò–ß–ù–û–°–¢–¨ |
|---|----------|-------------|
| 1 | –ü–∞—Ä–æ–ª—å –≤ –ª–æ–≥–∏–Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è | –ö–†–ò–¢–ò–ß–ù–û |
| 2 | –†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π | –í–´–°–û–ö–ê–Ø |
| 3 | –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—Ä–µ–¥–∏—Ç–æ–≤ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π | –í–´–°–û–ö–ê–Ø |
| 4 | Pro —Ñ–æ—Ä–º–∞—Ç—ã –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ | –°–†–ï–î–ù–Ø–Ø |
| 5 | –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | –ö–†–ò–¢–ò–ß–ù–û |
| 6 | –ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ localStorage | –í–´–°–û–ö–ê–Ø |
| 7 | –ü—Ä–∏ –Ω—É–ª–µ–≤—ã—Ö –∫—Ä–µ–¥–∏—Ç–∞—Ö ‚Äî –Ω–∏–∫–∞–∫–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ | –ö–†–ò–¢–ò–ß–ù–û |
| 8 | –ö–Ω–æ–ø–∫–∞ "Sign up" –≤–µ–¥–µ—Ç –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—É—Ç—å | –°–†–ï–î–ù–Ø–Ø |
| 9 | –ö–Ω–æ–ø–∫–∞ "Buy More" –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç | –ö–†–ò–¢–ò–ß–ù–û |
| 10 | –ö–Ω–æ–ø–∫–∏ "Upgrade"/"Downgrade" –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç | –ö–†–ò–¢–ò–ß–ù–û |
| 11 | –ù–µ—Ç UI –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—Å—Ç–∞—Ç–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤ | –í–´–°–û–ö–ê–Ø |
| 12 | –§–æ—Ä–º–∞ feedback –Ω–∞ —Ä—É—Å—Å–∫–æ–º, UI –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º | –ù–ò–ó–ö–ê–Ø |

---

## ================================================
## –†–ê–ó–î–ï–õ 8 ‚Äî –ò–¢–û–ì–û–í–ê–Ø –ö–ê–†–¢–ê –°–û–°–¢–û–Ø–ù–ò–Ø
## ================================================

### 8.1 –°–¢–ê–¢–£–° –ü–û –ö–û–ú–ü–û–ù–ï–ù–¢–ê–ú

| –ë–ª–æ–∫ | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|-----|--------|--------|
| **Auth** | PARTIAL | Email-based —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–∞—Ä–æ–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è, –Ω–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |
| **Generation** | DONE | WebSocket, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, retry –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞—é—Ç |
| **API** | DONE | REST API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º |
| **Credits (API)** | DONE | –°–∏—Å—Ç–µ–º–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤ –¥–ª—è API –∫–ª—é—á–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç |
| **Credits (UI)** | NOT DONE | –î–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ |
| **Limits** | NOT DONE | –õ–∏–º–∏—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ë–î, –Ω–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π |
| **Billing UI** | DONE | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–æ—Ç–æ–≤, –Ω–æ —ç—Ç–æ —Ñ–µ–π–∫ |
| **Billing Logic** | NOT DONE | –ù–∏–∫–∞–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π |
| **Yukassa Integration** | NOT DONE | –¢–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–∏–ø—ã |
| **Payments Table** | NOT DONE | –ë–î —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ |
| **Admin Auth** | DONE | –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ role = 'admin' –≤ –ë–î |
| **Admin Messages** | DONE | Feedback —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç |
| **Admin Users** | PARTIAL | –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –µ—Å—Ç—å –Ω–æ –Ω–µ—Ç UI |
| **Admin Payments** | NOT DONE | –¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ |
| **Feedback Form** | DONE | –†–∞–±–æ—Ç–∞–µ—Ç, —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è |
| **UX/Flow** | PARTIAL | –ú–Ω–æ–≥–æ —Ä–∞–∑—Ä—ã–≤–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º |
| **Error Handling** | PARTIAL | –ï—Å—Ç—å retry –ª–æ–≥–∏–∫–∞, –Ω–æ –Ω–µ—Ç UI –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ |
| **Persistence** | DONE | –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î |

### 8.2 –¢–ê–ë–õ–ò–¶–ê –ì–û–¢–û–í–ù–û–°–¢–ò

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ë–ª–æ–∫                    ‚îÇ –°—Ç–∞—Ç—É—Å ‚îÇ % –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Core Generation         ‚îÇ ‚úÖ DONE ‚îÇ 100%                             ‚îÇ
‚îÇ API Infrastructure      ‚îÇ ‚úÖ DONE ‚îÇ 95% (–ª–∏–º–∏—Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è)     ‚îÇ
‚îÇ Admin Panel             ‚îÇ ‚úÖ DONE ‚îÇ 80% (payments —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞)‚îÇ
‚îÇ Feedback System         ‚îÇ ‚úÖ DONE ‚îÇ 100%                             ‚îÇ
‚îÇ Authentication          ‚îÇ ‚ö†Ô∏è PARTIAL ‚îÇ 40% (—Ç–æ–ª—å–∫–æ email, –Ω–µ—Ç –ø–∞—Ä–æ–ª–µ–π) ‚îÇ
‚îÇ Credits System (API)    ‚îÇ ‚úÖ DONE ‚îÇ 100%                             ‚îÇ
‚îÇ Credits System (UI)     ‚îÇ ‚ùå NOT DONE ‚îÇ 0%                             ‚îÇ
‚îÇ Rate Limiting           ‚îÇ ‚ùå NOT DONE ‚îÇ 0% (–ª–∏–º–∏—Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è)     ‚îÇ
‚îÇ Billing & Payments      ‚îÇ ‚ùå NOT DONE ‚îÇ 5% (—Ç–æ–ª—å–∫–æ UI)                 ‚îÇ
‚îÇ Yukassa Integration     ‚îÇ ‚ùå NOT DONE ‚îÇ 0%                             ‚îÇ
‚îÇ History Sync            ‚îÇ ‚ö†Ô∏è PARTIAL ‚îÇ 20% (—Ç–æ–ª—å–∫–æ localStorage)       ‚îÇ
‚îÇ Error Handling (UI)     ‚îÇ ‚ö†Ô∏è PARTIAL ‚îÇ 30% (generic errors)            ‚îÇ
‚îÇ Pro Format Access       ‚îÇ ‚ö†Ô∏è PARTIAL ‚îÇ 50% (backend –ø—Ä–æ–≤–µ—Ä–∫–∞ –µ—Å—Ç—å)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 8.3 –¢–û–ü-5 –°–ê–ú–´–• –ö–†–ò–¢–ò–ß–ù–´–• –ü–†–û–ë–õ–ï–ú

**üî¥ –ë–õ–û–ö–ò–†–£–Æ–©–ò–ï (–ù–£–ñ–ù–û –°–†–û–ß–ù–û –ß–ò–ù–ò–¢–¨):**

1. **–ö—Ä–µ–¥–∏—Ç—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è**
   - –ï—Å–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–ø–∞–¥–µ—Ç ‚Äî –∫—Ä–µ–¥–∏—Ç—ã —É–∂–µ —Å–ø–∏—Å–∞–Ω—ã
   - –ù–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤
   - –≠—Ç–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å

2. **–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–æ–≤ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—Å–∏—Ç—å rate_limit_hourly
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—Å–∏—Ç—å rate_limit_concurrent
   - –õ–∏–º–∏—Ç—ã —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—é—Ç—Å—è, –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è
   - –°–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∏—Ç—å—Å—è

3. **–ü–ª–∞—Ç–µ–∂–∏ –≤–æ–æ–±—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**
   - –ù–µ—Ç –±–∏–ª–ª–∏–Ω–≥–∞, –Ω–µ—Ç Yukassa
   - –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –≤–∑—è—Ç—å –¥–µ–Ω—å–≥–∏
   - –ö—Ä–µ–¥–∏—Ç—ã –¥–ª—è UI –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è API)

4. **–ü–∞—Ä–æ–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –≤ –ª–æ–≥–∏–Ω–µ**
   - –§–æ—Ä–º–∞ –ø—Ä–æ—Å–∏—Ç –ø–∞—Ä–æ–ª—å
   - –ë—ç–∫–µ–Ω–¥ –µ–≥–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç
   - –õ—é–±–æ–π –º–æ–∂–µ—Ç –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è —Å –ª—é–±—ã–º email
   - –≠—Ç–æ –±—Ä–µ—à—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

5. **–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ**
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –ü—Ä–∏ –Ω—É–ª–µ–≤—ã—Ö –∫—Ä–µ–¥–∏—Ç–∞—Ö ‚Äî –º–æ–ª—á–∞–Ω–∏–µ
   - UX –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–≤–µ—Ç—Å—è

---

### 8.4 –¢–û–ü-5 –í–ï–©–ï–ô –ö–û–¢–û–†–´–ï –ú–û–ñ–ù–û –ù–ï –¢–†–û–ì–ê–¢–¨

**‚úÖ –†–ê–ë–û–¢–ê–ï–¢ –ò –ù–ï –ù–£–ñ–î–ê–ï–¢–°–Ø –í –ò–ó–ú–ï–ù–ï–ù–ò–Ø–•:**

1. **WebSocket –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ streaming**
   - –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
   - –ï—Å—Ç—å retry –ª–æ–≥–∏–∫–∞
   - Graceful error handling
   - –ú–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

2. **Feedback —Å–∏—Å—Ç–µ–º–∞**
   - –û—Ç —Ñ–æ—Ä–º—ã –¥–æ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ
   - –°–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –∞–¥–º–∏–Ω –≤–∏–¥–∏—Ç
   - –ú–æ–∂–Ω–æ –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å

3. **Admin –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ role –≤ –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ó–∞—â–∏—Ç–∞ endpoints —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ProtectedAdminRoute –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

4. **Database schema –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**
   - –¢–∞–±–ª–∏—Ü—ã users, generations, generation_variants –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
   - –°–≤—è–∑–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ
   - –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –°—Ö–µ–º—É –Ω–µ –º–µ–Ω—è—Ç—å

5. **API endpoints —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
   - REST API endpoints –≥–æ—Ç–æ–≤—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ
   - –î–∞–∂–µ –µ—Å–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ‚Äî —ç—Ç–æ –≥–æ—Ç–æ–≤–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
   - –°—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Å—Ç–∞–≤–∏—Ç—å

---

### 8.5 –†–ï–ê–õ–¨–ù–û–ï –°–û–°–¢–û–Ø–ù–ò–ï –ü–†–û–ï–ö–¢–ê

**–ü—Ä–æ–µ–∫—Ç ‚Äî —ç—Ç–æ MVP –Ω–∞ 50-60% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**

‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ (WebSocket, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, streaming)
- Admin –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è feedback'–∞–º–∏
- API —Å–∏—Å—Ç–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø–æ –∫–ª—é—á–∞–º
- –ö—Ä–µ–¥–∏—Ç—ã –¥–ª—è API
- –ë–∞–∑–æ–≤–∞—è –∏—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î

‚ùå **–ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü–ª–∞—Ç–µ–∂–∏ –∏ –±–∏–ª–ª–∏–Ω–≥ (—Ç–æ–ª—å–∫–æ UI –∑–∞–≥–ª—É—à–∫–∞)
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–∞—Ä–æ–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è)
- Rate limiting (–ª–∏–º–∏—Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

### 8.6 –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –û–®–ò–ë–ö–ò

| –û—à–∏–±–∫–∞ | –°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------------|---------|
| –ö—Ä–µ–¥–∏—Ç—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –î–û –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ | üî¥ –ö–†–ò–¢–ò–ß–ù–ê–Ø | –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ä–∏—Å–∫ |
| –õ–∏–º–∏—Ç—ã —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—é—Ç—Å—è, –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è | üî¥ –ö–†–ò–¢–ò–ß–ù–ê–Ø | –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç DDoS |
| –ü–∞—Ä–æ–ª–∏ –≤ –ª–æ–≥–∏–Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è | üî¥ –ö–†–ò–¢–ò–ß–ù–ê–Ø | –ë—Ä–µ—à—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |
| No pagination/offset –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö | üü° –°–†–ï–î–ù–Ø–Ø | –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º |
| History –≤ localStorage, –Ω–µ –≤ –ë–î | üü° –°–†–ï–î–ù–Ø–Ø | –¢–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞ |
| Admin check —á–µ—Ä–µ–∑ API call –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∑–∞–≥—Ä—É–∑–∫–µ | üü° –°–†–ï–î–ù–Ø–Ø | –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º |
| –ù–µ—Ç rate limiting –Ω–∞ feedback —Ñ–æ—Ä–º—É | üü° –°–†–ï–î–ù–Ø–Ø | Spam —Ä–∏—Å–∫ |
| –ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞–Ω—ã | üü° –°–†–ï–î–ù–Ø–Ø | –ù—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ø–æ—Ç–æ–º |

### 8.7 –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ü–†–ò–û–†–ò–¢–ò–ó–ê–¶–ò–ò

**–°–†–û–ß–ù–û (–ù–µ–¥–µ–ª—è 1):**
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏–º–∏—Ç–æ–≤ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
2. –î–æ–±–∞–≤–∏—Ç—å UI –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (—Ä–∞–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç –∫—Ä–µ–¥–∏—Ç–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ

**–í–ê–ñ–ù–û (–ù–µ–¥–µ–ª—è 2-3):**
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —Å –ø–∞—Ä–æ–ª—è–º–∏
5. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ø–ª–∞—Ç–µ–∂–µ–π –∏ subscriptions
6. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π Yukassa webhook

**–ñ–ï–õ–ê–¢–ï–õ–¨–ù–û (–ù–µ–¥–µ–ª—è 4+):**
7. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Å —Å–µ—Ä–≤–µ—Ä–æ–º
8. –î–æ–±–∞–≤–∏—Ç—å email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
9. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –±–∏–ª–ª–∏–Ω–≥ workflow

### 8.8 –§–ò–ù–ê–õ–¨–ù–ê–Ø –û–¶–ï–ù–ö–ê

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** 7/10 (—Ö–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –Ω–æ –Ω–µ–¥–æ–¥–µ–ª–∫–∏)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** 5/10 (–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ—Ç)

**UX —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** 4/10 (–º–Ω–æ–≥–æ —Ä–∞–∑—Ä—ã–≤–æ–≤, –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫)

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:** 3/10 (–ø–ª–∞—Ç–µ–∂–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∞, –ª–∏–º–∏—Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è)

**–í–´–í–û–î: –ü—Ä–æ–µ–∫—Ç –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è DEMO –∏ INTERNAL USE, –Ω–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω—É–∂–Ω–∞ —Å–µ—Ä—å–µ–∑–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.**

---

## ================================================
## –°–ü–†–ê–í–û–ß–ù–ò–ö –§–ê–ô–õ–û–í
## ================================================

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `/backend/api/auth.py` ‚Äî API key auth
- `/backend/api/user_auth.py` ‚Äî Email-based user auth
- `/backend/api/admin_auth.py` ‚Äî Role-based admin check
- `/frontend/src/store/auth.ts` ‚Äî Zustand auth store
- `/frontend/src/store/admin.ts` ‚Äî Zustand admin store

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `/backend/routes/generate_code.py` ‚Äî WebSocket handler –∏ pipeline
- `/backend/gen_queue/generation_queue.py` ‚Äî Asyncio queue
- `/backend/gen_queue/worker.py` ‚Äî Worker –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ jobs
- `/frontend/src/app/playground/page.tsx` ‚Äî Playground –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `/frontend/src/logic/generation/generate.ts` ‚Äî WebSocket –∫–ª–∏–µ–Ω—Ç

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã API
- `/backend/api/routes/generate.py` ‚Äî POST /api/generate
- `/backend/api/routes/generations.py` ‚Äî GET /api/generations/{id}
- `/backend/api/routes/limits.py` ‚Äî GET /api/limits
- `/backend/api/routes/formats.py` ‚Äî GET /api/formats
- `/backend/api/credits.py` ‚Äî Credit management

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –∞–¥–º–∏–Ω–∫–∏
- `/backend/api/routes/admin/messages.py` ‚Äî Feedback management
- `/backend/api/routes/admin/users.py` ‚Äî User management
- `/backend/api/routes/feedback.py` ‚Äî Feedback submission
- `/frontend/src/app/admin/messages/` ‚Äî –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å —Å–æ–æ–±—â–µ–Ω–∏—è
- `/frontend/src/app/admin/users/` ‚Äî –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –±–∏–ª–ª–∏–Ω–≥–∞
- `/frontend/src/app/settings/billing/` ‚Äî Billing UI
- `/frontend/src/logic/billing/api.ts` ‚Äî Billing API –∫–ª–∏–µ–Ω—Ç (mock)
- `/backend/api/billing/` ‚Äî Billing –º–æ–¥—É–ª—å (TODO)
- `/YUKASSA_INTEGRATION.md` ‚Äî –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Yukassa

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –ë–î
- `/backend/db/sqlite.py` ‚Äî Schema –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- `/backend/db/migrate_add_admin.py` ‚Äî Migration –¥–ª—è –∞–¥–º–∏–Ω–∞
- `/backend/create_admin.py` ‚Äî Script –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∞

---

**–ö–æ–Ω–µ—Ü –∞—É–¥–∏—Ç–∞. –û—Ç—á–µ—Ç –ø–æ–ª–Ω—ã–π –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.**
