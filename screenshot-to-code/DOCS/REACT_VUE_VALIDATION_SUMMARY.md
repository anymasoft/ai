# React/Vue Validation Implementation Summary

## ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ **–Ω–∞—Å—Ç–æ—è—â–∏—Ö** React –∏ Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ `react_tailwind` –∏ `vue_tailwind`.

---

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `backend/prompts/screenshot_system_prompts.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∂–µ—Å—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤ –Ω–∞—á–∞–ª–æ `REACT_TAILWIND_SYSTEM_PROMPT`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∂–µ—Å—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤ –Ω–∞—á–∞–ª–æ `VUE_TAILWIND_SYSTEM_PROMPT`

**–ù–ï –∏–∑–º–µ–Ω–µ–Ω–æ:**
- `HTML_TAILWIND_SYSTEM_PROMPT` (–∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–µ–∫–∏)

### 2. `backend/codegen/utils.py`
**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `validate_react_output(html: str) -> bool` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ App –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, ReactDOM.createRoot –∏ render
- `validate_vue_output(html: str) -> bool` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ createApp, mount, state –∏ bindings

### 3. `backend/routes/generate_code.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `stack: Stack` –≤ `ParallelGenerationStage`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_retry_with_repair_instruction` –¥–ª—è retry –ª–æ–≥–∏–∫–∏
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å –æ–¥–Ω–∏–º retry –≤ `_process_variant_completion`

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è `react_tailwind`:
1. –ü—Ä–æ–º–ø—Ç —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ:
   - `function App` –∏–ª–∏ `const App`
   - `ReactDOM.createRoot()`
   - `.render(<App /)`

2. –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —ç—Ç–∏—Ö –º–∞—Ä–∫–µ—Ä–æ–≤
3. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã ‚Üí **1 retry** —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π "Fix it"
4. –ï—Å–ª–∏ retry —Ç–æ–∂–µ –Ω–µ –ø–æ–º–æ–≥ ‚Üí **fallback** –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –î–ª—è `vue_tailwind`:
1. –ü—Ä–æ–º–ø—Ç —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ:
   - `createApp(...).mount('#app')`
   - `data()` –ò–õ–ò `setup()`
   - –•–æ—Ç—è –±—ã –æ–¥–∏–Ω Vue binding: `{{ }}`, `v-if`, `v-for`, `:class`, `@click`

2. –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —ç—Ç–∏—Ö –º–∞—Ä–∫–µ—Ä–æ–≤
3. Retry –ª–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ React

### –î–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç–µ–∫–æ–≤:
- **–ù–ò–ß–ï–ì–û –ù–ï –ú–ï–ù–Ø–ï–¢–°–Ø**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤

---

## üîí –ì–∞—Ä–∞–Ω—Ç–∏–∏

‚úÖ **HTML_TAILWIND –ù–ï –ó–ê–¢–†–û–ù–£–¢** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
‚úÖ **–ù–ò–ö–ê–ö–ò–• CRASH** - –≤—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω—ã
‚úÖ **–ú–ê–ö–°–ò–ú–£–ú 1 RETRY** - —Ç–æ–ª—å–∫–æ –¥–ª—è react/vue, —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ
‚úÖ **–í–ò–ó–£–ê–õ–¨–ù–û–ï –ö–ê–ß–ï–°–¢–í–û –ü–†–ò–û–†–ò–¢–ï–¢–ù–û** - –¥–∞–∂–µ –µ—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
‚úÖ **–ù–ò–ö–ê–ö–ò–• –ù–û–í–´–• –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô** - —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:
```bash
cd backend
python3 -m py_compile routes/generate_code.py codegen/utils.py prompts/screenshot_system_prompts.py
```
‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã –±–µ–∑ –æ—à–∏–±–æ–∫

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
```python
from codegen.utils import validate_react_output, validate_vue_output

# Valid React —Å createRoot
react_code = "...ReactDOM.createRoot(...)...function App() {...}.render(<App />)..."
assert validate_react_output(react_code) == True

# Valid Vue —Å createApp –∏ mount
vue_code = "...createApp({setup() {...}}).mount('#app')...{{ message }}..."
assert validate_vue_output(vue_code) == True
```
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **HTML Tailwind** (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ —Å–ª–æ–º–∞–ª–∏):
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤–∏–∑—É–∞–ª —Å–æ–≤–ø–∞–¥–∞–µ—Ç
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫

2. **React Tailwind** (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å):
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ 3 —Ä–∞–∑–∞
   - –í –∫–∞–∂–¥–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ:
     - `function App` –∏–ª–∏ `const App`
     - `ReactDOM.createRoot`
     - `.render(<App`
   - –í–∏–∑—É–∞–ª –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–º

3. **Vue Tailwind** (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å):
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ 3 —Ä–∞–∑–∞
   - –í –∫–∞–∂–¥–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ:
     - `createApp(`
     - `.mount('#app')`
     - `data()` –∏–ª–∏ `setup()`
     - –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –±–∏–Ω–¥–∏–Ω–≥: `{{ }}` –∏–ª–∏ `v-*`
   - –í–∏–∑—É–∞–ª –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–º

---

## üöÄ –ó–∞–ø—É—Å–∫

Backend –∏ frontend –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω–æ:

```bash
# Backend
cd backend
poetry run uvicorn main:app --reload --port 7001

# Frontend
cd frontend
yarn dev
```

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã –¥–ª—è `react_tailwind` –∏ `vue_tailwind`.

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **HTML/Tailwind**: –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (0 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤)
- **React/Vue**:
  - –ï—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞: 0 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
  - –ï—Å–ª–∏ –Ω–µ –ø—Ä–æ—à–ª–∞: +1 –≤—ã–∑–æ–≤ –º–æ–¥–µ–ª–∏ (retry)
  - –ú–∞–∫—Å–∏–º—É–º: 2 –≤—ã–∑–æ–≤–∞ –≤–º–µ—Å—Ç–æ 1

---

**–î–∞—Ç–∞:** 2025-12-23
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ
