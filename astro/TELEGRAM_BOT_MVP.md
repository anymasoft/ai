# üé¨ Beem Video AI - Telegram Bot MVP

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ MVP Telegram-–±–æ—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ –∏–∑ —Ñ–æ—Ç–æ –∏ —Ç–µ–∫—Å—Ç–∞.

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞](#–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–æ—Ç–ª–∞–¥–∫–∞)
- [–ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#—á–µ–∫–ª–∏—Å—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û–±—â–∞—è —Å—Ö–µ–º–∞

```
Telegram User
    ‚Üì
    ‚Üì (—Ñ–æ—Ç–æ + —Ç–µ–∫—Å—Ç)
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram Bot (Node.js + grammY)    ‚îÇ
‚îÇ  /bot/src/index.ts                  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (in-memory)‚îÇ
‚îÇ  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ/—Ç–µ–∫—Å—Ç–∞            ‚îÇ
‚îÇ  - Polling —Å—Ç–∞—Ç—É—Å–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏        ‚îÇ
‚îÇ  - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚Üì HTTP multipart/form-data
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Astro Backend (SSR)                ‚îÇ
‚îÇ  /src/pages/api/telegram/           ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  - POST /generate                   ‚îÇ
‚îÇ    (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–æ—Ç–æ, —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å) ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  - GET /status                      ‚îÇ
‚îÇ    (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚Üì –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Existing Beem Infrastructure       ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  - enhancePrompt() (GPT-4o-mini)    ‚îÇ
‚îÇ  - compileCameraCommands()          ‚îÇ
‚îÇ  - MiniMax Video API                ‚îÇ
‚îÇ  - SQLite Database                  ‚îÇ
‚îÇ  - AsyncQueue (concurrency=1)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚Üì Callback
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  /minimax_callback                  ‚îÇ
‚îÇ  (–æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤–∏–¥–µ–æ)           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ MVP

1. **–ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `telegram_user_id` –∫–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
   - –ò–∑–æ–ª–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –ø–∞–ø–∫–∞–º `/storage/tg_{id}/`

2. **–ë–µ–∑ –æ–ø–ª–∞—Ç—ã –Ω–∞ –ø–µ—Ä–≤–æ–º —ç—Ç–∞–ø–µ**
   - –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å
   - –í—Å–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –Ω–∞–ø—Ä—è–º—É—é

3. **–¢–æ–ª—å–∫–æ PROMPT MODE**
   - –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç "—Å–≤–æ–±–æ–¥–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π"
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç enhancePrompt + compileCameraCommands

4. **In-memory —Å–æ—Å—Ç–æ—è–Ω–∏–µ**
   - –¢–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ –±–æ—Ç–∞
   - –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 3 —á–∞—Å–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

#### 1.1 –ü–æ–ª—É—á–∏—Ç—å Telegram Bot Token

1. –û—Ç–∫—Ä–æ–π [@BotFather](https://t.me/botfather)
2. –û—Ç–ø—Ä–∞–≤—å `/newbot`
3. –°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `123456789:ABCdefGhIjKlmnoPqrStUvwXYZ`)

#### 1.2 –£–±–µ–¥–∏—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Node.js 20+

```bash
node --version  # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å v20 –∏–ª–∏ –≤—ã—à–µ
npm --version
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ Astro Backend

–í –ø–µ—Ä–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
cd /home/user/ai/astro

# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ó–∞–ø—É—Å—Ç–∏ dev —Å–µ—Ä–≤–µ—Ä
npm run dev
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
  ‚ñ∂ src/pages
  ‚ñ∂ Receiving requests at http://localhost:4321/
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: Backend –î–û–õ–ñ–ï–ù –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–µ–¥ –±–æ—Ç–æ–º!

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ Telegram Bot

–í–æ –≤—Ç–æ—Ä–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
cd /home/user/ai/astro/bot

# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–∑–¥–∞–π .env.local –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp .env.example .env.local

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env.local
# –î–æ–±–∞–≤—å —Ç–æ–∫–µ–Ω:
# TELEGRAM_BOT_TOKEN=YOUR_TOKEN_HERE
# (–æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ—Å—Ç–∞–≤—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

# –ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞
npm run dev
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
ü§ñ Starting Beem Telegram Bot...
üì° Checking backend at http://localhost:4321...
‚úÖ Backend is available
‚úÖ Bot is running!
‚úÖ Logged in as @your_bot_name
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π Telegram –∏ –Ω–∞–π–¥–∏ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞
2. –û—Ç–ø—Ä–∞–≤—å `/start`
3. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ"
4. –û—Ç–ø—Ä–∞–≤—å –ª—é–±–æ–µ JPEG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
5. –ù–∞–ø–∏—à–∏ –æ–ø–∏—Å–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–∑–∞–∫–∞—Ç –Ω–∞–¥ –º–æ—Ä–µ–º")
6. –ù–∞–∂–º–∏ "‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"
7. –ñ–¥–∏ 1-3 –º–∏–Ω—É—Ç—ã
8. –ü–æ–ª—É—á–∏ –≤–∏–¥–µ–æ

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è Telegram

```
/astro/
‚îú‚îÄ‚îÄ src/pages/api/telegram/
‚îÇ   ‚îú‚îÄ‚îÄ generate.ts          # POST /api/telegram/generate
‚îÇ   ‚îî‚îÄ‚îÄ status.ts            # GET /api/telegram/status
‚îÇ
‚îî‚îÄ‚îÄ bot/
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ index.ts         # –ì–ª–∞–≤–Ω—ã–π –±–æ—Ç —Å handlers
    ‚îÇ   ‚îú‚îÄ‚îÄ state.ts         # In-memory —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    ‚îÇ   ‚îî‚îÄ‚îÄ api.ts           # HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è backend
    ‚îú‚îÄ‚îÄ package.json
    ‚îú‚îÄ‚îÄ tsconfig.json
    ‚îú‚îÄ‚îÄ .env.example         # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    ‚îú‚îÄ‚îÄ .gitignore
    ‚îî‚îÄ‚îÄ README.md            # –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- –ù–µ—Ç! –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞.
- –ù–æ–≤—ã–µ endpoints –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É.

## üì° API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### POST /api/telegram/generate

–°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤–∏–¥–µ–æ.

**URL**: `http://localhost:4321/api/telegram/generate`

**–ú–µ—Ç–æ–¥**: `POST`

**Content-Type**: `multipart/form-data`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –¢—Ä–µ–±—É–µ—Ç—Å—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|---------|---------|
| `telegram_user_id` | number\|string | ‚úÖ | ID Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `photo` | File | ‚úÖ | JPEG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (max 50MB) |
| `prompt` | string | ‚úÖ | –¢–µ–∫—Å—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç (3-2000 —Å–∏–º–≤–æ–ª–æ–≤) |
| `duration` | number | ‚ùå | 6 –∏–ª–∏ 10 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 6) |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (curl)**:

```bash
curl -X POST http://localhost:4321/api/telegram/generate \
  -F telegram_user_id=123456789 \
  -F photo=@photo.jpg \
  -F prompt="–∫—Ä–∞—Å–∏–≤—ã–π –∑–∞–∫–∞—Ç –Ω–∞–¥ –º–æ—Ä–µ–º" \
  -F duration=6
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200)**:

```json
{
  "success": true,
  "generationId": "tg_gen_1704067200123_abc123xyz",
  "status": "queued",
  "cost": 1
}
```

**–û—à–∏–±–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**:

```json
// 400 - Missing parameters
{
  "error": "–¢—Ä–µ–±—É–µ—Ç—Å—è telegram_user_id"
}

// 400 - Invalid photo format
{
  "error": "–¢–æ–ª—å–∫–æ JPEG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"
}

// 400 - Invalid prompt
{
  "error": "–ü—Ä–æ–º–ø—Ç —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (–º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞)"
}

// 500 - Server error
{
  "error": "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ"
}
```

### GET /api/telegram/status

–ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ.

**URL**: `http://localhost:4321/api/telegram/status?generation_id=tg_gen_...`

**–ú–µ—Ç–æ–¥**: `GET`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –¢—Ä–µ–±—É–µ—Ç—Å—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|---------|---------|
| `generation_id` | string | ‚úÖ | ID –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–∏–∑ –æ—Ç–≤–µ—Ç–∞ /generate) |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (curl)**:

```bash
curl "http://localhost:4321/api/telegram/status?generation_id=tg_gen_1704067200123_abc123xyz"
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200)**:

```json
{
  "success": true,
  "generationId": "tg_gen_1704067200123_abc123xyz",
  "status": "processing"
}
```

**–ö–æ–≥–¥–∞ –≤–∏–¥–µ–æ –≥–æ—Ç–æ–≤–æ**:

```json
{
  "success": true,
  "generationId": "tg_gen_1704067200123_abc123xyz",
  "status": "done",
  "video_url": "/storage/tg_123456789/output.mp4"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã**:

| –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|---------|---------|
| `queued` | –í –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É | –ñ–¥–∏ |
| `processing` | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤–∏–¥–µ–æ | –ñ–¥–∏ –∏ –æ–±–Ω–æ–≤–ª—è–π —Å—Ç–∞—Ç—É—Å |
| `done` | –ì–æ—Ç–æ–≤–æ | –°–∫–∞—á–∏–≤–∞–π –≤–∏–¥–µ–æ –ø–æ URL |
| `failed` | –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | –°–æ–æ–±—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–± –æ—à–∏–±–∫–µ |

**–û—à–∏–±–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**:

```json
// 400 - Missing generation_id
{
  "error": "–¢—Ä–µ–±—É–µ—Ç—Å—è generation_id"
}

// 404 - Not found
{
  "error": "Generation not found"
}

// 403 - Not a Telegram generation
{
  "error": "Invalid generation"
}
```

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ Astro Backend

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å `npm run dev` –≤ –ø–∞–ø–∫–µ `/astro`:

```
[TG_GEN_START] telegram_user=123456789, generation_id=tg_gen_..., prompt_len=42
[TG_GEN] Photo saved for telegram_user=123456789, size=45234
[TG_GEN] Prompt enhanced
[TG_GEN] Camera commands compiled
[TG] Generation created: tg_gen_1704067200123_abc123xyz for telegram_user=123456789
[PROCESSOR] ‚ñ∂Ô∏è Processing generation: tg_gen_1704067200123_abc123xyz
[MINIMAX] Calling MiniMax API...
[PROCESSOR] ‚úÖ Generation completed: tg_gen_1704067200123_abc123xyz
```

### –õ–æ–≥–∏ Telegram Bot

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å `npm run dev` –≤ –ø–∞–ø–∫–µ `/bot`:

```
[2024-01-01T12:00:00.000Z] [BOT_START] user=123456789
[2024-01-01T12:00:05.000Z] [BOT_PHOTO_REQUESTED] user=123456789
[2024-01-01T12:00:10.000Z] [BOT_PHOTO_RECEIVED] user=123456789
[2024-01-01T12:00:15.000Z] [BOT_PHOTO_SAVED] user=123456789 path: /tmp/beem-bot/photo_123456789.jpg
[2024-01-01T12:00:20.000Z] [BOT_PROMPT_RECEIVED] user=123456789 length: 42
[2024-01-01T12:00:25.000Z] [BOT_GENERATE_CLICK] user=123456789
[2024-01-01T12:00:26.000Z] [TG_GENERATE_CREATED] user=123456789 generation_id: tg_gen_...
[2024-01-01T12:00:27.000Z] [TG_STATUS] user=123456789 status: queued
[2024-01-01T12:01:15.000Z] [TG_STATUS] user=123456789 status: processing
[2024-01-01T12:02:45.000Z] [TG_STATUS] user=123456789 status: done
[2024-01-01T12:02:50.000Z] [BOT_DONE] user=123456789
[API] Video downloaded: bot/tmp/bot/video_123456789.mp4
```

### –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

#### –ü—Ä–æ–±–ª–µ–º–∞: "Backend may not be available"

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Å—å —á—Ç–æ Astro –∑–∞–ø—É—â–µ–Ω –≤ –ø–µ—Ä–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ—Ä—Ç 4321 –æ—Ç–∫—Ä—ã—Ç: `curl http://localhost:4321/`
3. –ü—Ä–æ–≤–µ—Ä—å `BEEM_BASE_URL` –≤ `.env.local`

#### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot POST /api/telegram/generate"

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ñ–∞–π–ª—ã endpoints —Å–æ–∑–¥–∞–Ω—ã –≤ `/astro/src/pages/api/telegram/`
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ Astro: Ctrl+C –∏ `npm run dev` –∑–∞–Ω–æ–≤–æ

#### –ü—Ä–æ–±–ª–µ–º–∞: "TELEGRAM_BOT_TOKEN not set"

**–†–µ—à–µ–Ω–∏–µ**:
1. –°–æ–∑–¥–∞–π `.env.local` –≤ –ø–∞–ø–∫–µ `/bot`
2. –î–æ–±–∞–≤—å: `TELEGRAM_BOT_TOKEN=YOUR_TOKEN`
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ –±–æ—Ç–∞: Ctrl+C –∏ `npm run dev` –∑–∞–Ω–æ–≤–æ

#### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (copy-paste –∏–∑ @BotFather)
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –æ—à–∏–±–∫–∏
3. –ü–æ–ø—Ä–æ–±—É–π –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/start` –∑–∞–Ω–æ–≤–æ

#### –ü—Ä–æ–±–ª–µ–º–∞: –í–∏–¥–µ–æ –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Astro backend
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ MiniMax API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–≤ `.env` Astro)
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ñ–æ—Ç–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JPEG
4. –ü–æ—Å–º–æ—Ç—Ä–∏ –∫–æ–Ω—Å–æ–ª—å backend –Ω–∞ –æ—à–∏–±–∫–∏ MiniMax API

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

- [ ] –ü–æ–ª—É—á–µ–Ω–∞ Telegram Bot Token –æ—Ç @BotFather
- [ ] Node.js 20+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] `/astro/.env.local` —Å–æ–¥–µ—Ä–∂–∏—Ç MiniMax API –∫–ª—é—á–∏
- [ ] `/bot/.env.local` —Å–æ–¥–µ—Ä–∂–∏—Ç TELEGRAM_BOT_TOKEN

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

- [ ] Astro backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:4321
- [ ] Telegram bot –∑–∞–ø—É—â–µ–Ω –∏ –ª–æ–≥–∏—Ä—É–µ—Ç "‚úÖ Bot is running!"
- [ ] –ë–æ—Ç –ª–æ–≥–∏—Ä—É–µ—Ç "‚úÖ Backend is available"

### 3. Telegram UX

- [ ] –û—Ç–ø—Ä–∞–≤–ª—è—é `/start` ‚Üí –≤–∏–∂—É –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- [ ] –ù–∞–∂–∏–º–∞—é "üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ" ‚Üí –±–æ—Ç –ø—Ä–æ—Å–∏—Ç —Ñ–æ—Ç–æ
- [ ] –û—Ç–ø—Ä–∞–≤–ª—è—é JPEG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –±–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç "‚úÖ –§–æ—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!"
- [ ] –û—Ç–ø—Ä–∞–≤–ª—è—é —Ç–µ–∫—Å—Ç ‚Üí –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—é–º–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏
- [ ] –ù–∞–∂–∏–º–∞—é "‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å" ‚Üí –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "‚è≥ –ì–µ–Ω–µ—Ä–∏—Ä—É—é –≤–∏–¥–µ–æ... 0%"
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (25%, 50%, 75%, 100%)
- [ ] –ß–µ—Ä–µ–∑ 1-3 –º–∏–Ω—É—Ç—ã ‚Üí –ø–æ–ª—É—á–∞—é –≤–∏–¥–µ–æ MP4 –≤ Telegram

### 4. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

- [ ] –û—Ç–ø—Ä–∞–≤–ª—è—é —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç (1-2 —Å–∏–º–≤–æ–ª–∞) ‚Üí –æ—à–∏–±–∫–∞
- [ ] –û—Ç–ø—Ä–∞–≤–ª—è—é –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (>2000 —Å–∏–º–≤–æ–ª–æ–≤) ‚Üí –æ—à–∏–±–∫–∞
- [ ] –û—Ç–ø—Ä–∞–≤–ª—è—é —Ñ–æ—Ç–æ –Ω–µ –≤ JPEG ‚Üí –æ—à–∏–±–∫–∞ "–¢–æ–ª—å–∫–æ JPEG"
- [ ] –ù–∞–∂–∏–º–∞—é "‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç" ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫ –≤–≤–æ–¥—É –ø—Ä–æ–º–ø—Ç–∞
- [ ] –ù–∞–∂–∏–º–∞—é "üì∏ –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ" ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ
- [ ] –ù–∞–∂–∏–º–∞—é "‚ùå –û—Ç–º–µ–Ω–∞" ‚Üí –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥

### 5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] –ê—Å—Ç—Ä–æ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[TG_*]`
- [ ] –ë–æ—Ç –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[BOT_*]`
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω—ã –≤—Å–µ —à–∞–≥–∏: START ‚Üí PHOTO ‚Üí PROMPT ‚Üí GENERATE ‚Üí DONE

### 6. –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤

- [ ] `/storage/tg_123456789/image.jpg` —Å–æ–∑–¥–∞–Ω –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
- [ ] `/storage/tg_123456789/output.mp4` —Å–æ–∑–¥–∞–Ω –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- [ ] `/bot/tmp/bot/` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### 7. API endpoints (curl)

```bash
# 7.1 –ó–∞–ø—É—Å–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
curl -X POST http://localhost:4321/api/telegram/generate \
  -F telegram_user_id=TEST123 \
  -F photo=@test.jpg \
  -F prompt="test" \
  -F duration=6
# –û–∂–∏–¥–∞–µ—Ç—Å—è: { "success": true, "generationId": "tg_gen_...", ... }

# 7.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl "http://localhost:4321/api/telegram/status?generation_id=tg_gen_..."
# –û–∂–∏–¥–∞–µ—Ç—Å—è: { "success": true, "status": "queued|processing|done|failed" }
```

### 8. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞

- [ ] –£–±–∏–≤–∞—é –±–æ—Ç–∞ (Ctrl+C) –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –£–±–∏–≤–∞—é Astro –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ –±–æ—Ç–∞

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –ò–¥–µ–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"
   ‚Üì
2. –ë–æ—Ç –≤—ã–∑—ã–≤–∞–µ—Ç POST /api/telegram/generate
   ‚Üì
3. Backend:
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–æ—Ç–æ –≤ /storage/tg_{id}/image.jpg
   - –£–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–º–ø—Ç —á–µ—Ä–µ–∑ GPT-4o-mini
   - –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç camera commands
   - –°–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å –≤ –ë–î generations
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç generationId
   ‚Üì
4. –ë–æ—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç polling GET /api/telegram/status –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
   ‚Üì
5. Backend –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ:
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ "processing"
   - –í—ã–∑—ã–≤–∞–µ—Ç MiniMax API —Å —Ñ–æ—Ç–æ –∏ –ø—Ä–æ–º–ø—Ç–æ–º
   - MiniMax –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∏–¥–µ–æ (1-3 –º–∏–Ω—É—Ç—ã)
   - –°–∫–∞—á–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ –≤ /storage/tg_{id}/output.mp4
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ "done"
   ‚Üì
6. –ë–æ—Ç –≤–∏–¥–∏—Ç status=done, —Å–∫–∞—á–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ
   ‚Üì
7. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç MP4 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   ‚Üì
8. –ë–æ—Ç –æ—á–∏—â–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```
–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
  - Backend –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ "failed"
  - –ë–æ—Ç –≤–∏–¥–∏—Ç status=failed —á–µ—Ä–µ–∑ polling
  - –ë–æ—Ç —Å–æ–æ–±—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–± –æ—à–∏–±–∫–µ
  - –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ß—Ç–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è

1. **Telegram Bot**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (in-memory)
   - –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π (–∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 3 —á–∞—Å–∞)
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π

2. **–ê—Å—Ç—Ä–æ Backend**
   - –ó–∞–ø–∏—Å—å –≤ –ë–î —Ç–∞–±–ª–∏—Ü–∞ `generations`
   - –°—Ç–∞—Ç—É—Å—ã: queued ‚Üí processing ‚Üí done/failed
   - URL –≤–∏–¥–µ–æ –ø–æ—Å–ª–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å Astro (—Ñ–∏–ª—å—Ç—Ä –ø–æ Telegram):
# grep "TG_" –∏–ª–∏ grep "tg_"

# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –±–æ—Ç–æ–º (–≤—Å–µ —Å–æ–±—ã—Ç–∏—è):
# –í—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å –≤—Ä–µ–º–µ–Ω–º–µ—Ç–∫–æ–π
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–¥–ª—è production)

1. –î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫—Ä–µ–¥–∏—Ç–æ–≤/–±–∞–ª–∞–Ω—Å–∞
2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è YooKassa –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
3. –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ Redis
4. Admin-–ø–∞–Ω–µ–ª—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
5. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
6. Rate limiting –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
7. –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –≤ –ë–î
8. WebHook –¥–ª—èÊõ¥ —Ç–æ—á–Ω–æ–≥–æ polling

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –æ–±–æ–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –ü–æ—Å–º–æ—Ç—Ä–∏ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤—ã—à–µ
5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å–µ—Ä–≤–∏—Å—ã

---

**–°—Ç–∞—Ç—É—Å**: MVP –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
**–í–µ—Ä—Å–∏—è**: 1.0.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2024
