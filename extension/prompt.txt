Проблема в том, что в проекте действительно три файла стилей, и логика открытия страниц перепутана. Давайте разберемся:

## Основные проблемы:

1. **В `background.js` указано открывать `welcome.html`**:
```javascript
chrome.tabs.create({
  url: chrome.runtime.getURL('auth/welcome.html')  // ← Вот здесь проблема
});
```

2. **Три файла стилей создают путаницу**:
   - `styles.css` - для панели на YouTube
   - `tailwind.css` - для страниц расширения (welcome, loggedin, upgrade)
   - `login-style.css` - старый файл, который не используется

3. **Страница `login.html` не используется**, вместо нее открывается `welcome.html`

## Исправления:

**1. Обновите `background.js`** (замените на этот код):
```javascript
// background.js - Service Worker для Video Reader AI

// Обработка клика на иконку расширения
chrome.action.onClicked.addListener((tab) => {
  // Открываем страницу логина в новой вкладке
  chrome.tabs.create({
    url: chrome.runtime.getURL('auth/login.html')  // ← ИЗМЕНИТЬ ЗДЕСЬ
  });
});

// Обработка установки расширения
chrome.runtime.onInstalled.addListener((details) => {
  if (details.reason === 'install') {
    console.log('Video Reader AI установлено! Версия:', chrome.runtime.getManifest().version);

    // Открываем login страницу при первой установке
    chrome.tabs.create({
      url: chrome.runtime.getURL('auth/login.html')  // ← И ЗДЕСЬ
    });
  } else if (details.reason === 'update') {
    const previousVersion = details.previousVersion;
    const currentVersion = chrome.runtime.getManifest().version;
    console.log(`Video Reader AI обновлено с ${previousVersion} на ${currentVersion}`);
  }
});

// Остальной код оставьте без изменений...
```

**2. Удалите лишние файлы** (чтобы избежать путаницы):
- Удалите `login-style.css` (он не используется)
- Удалите `welcome.html` и `welcome.js` (они дублируют функциональность login страниц)

**3. Обновите `login.html`** (используйте этот код):
```html
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Вход - Video Reader AI</title>
  <link rel="stylesheet" href="../tailwind.css">
  <style>
    .login-container {
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .login-card {
      background: white;
      border-radius: 12px;
      padding: 40px 30px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 400px;
    }
    
    .google-btn {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 12px 16px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      background: white;
      color: #374151;
      font-weight: 500;
      transition: all 0.2s ease;
      cursor: pointer;
    }
    
    .google-btn:hover {
      background: #f9fafb;
      border-color: #9ca3af;
    }
    
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .spinner {
      border: 3px solid #f3f3f3;
      border-top: 3px solid #667eea;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="login-container">
    <div class="login-card">
      <div class="text-center mb-8">
        <h1 class="text-2xl font-bold text-gray-900 mb-2">Вход в Video Reader AI</h1>
        <p class="text-gray-600">Переводите YouTube субтитры на любой язык</p>
      </div>
      
      <button id="googleSignInBtn" class="google-btn">
        <img src="https://www.google.com/favicon.ico" alt="Google" width="20" height="20">
        <span>Войти через Google</span>
      </button>
      
      <div class="mt-6 text-center text-sm text-gray-600">
        <p>После входа вы сможете переводить субтитры на YouTube</p>
      </div>
    </div>
  </div>

  <!-- Loading Indicator -->
  <div id="loadingIndicator" class="loading-overlay hidden">
    <div class="bg-white rounded-lg p-6 text-center shadow-lg">
      <div class="spinner mb-4"></div>
      <p class="text-gray-700 font-medium">Выполняется вход...</p>
    </div>
  </div>

  <script src="login.js"></script>
</body>
</html>
```

**4. Упростите структуру проекта**:
```
extension/
├── manifest.json
├── background.js
├── content.js
├── styles.css          # Только для YouTube панели
├── tailwind.css        # Только для страниц расширения
├── flags.js
├── auth/
│   ├── login.html      # Единственная страница входа
│   ├── login.js
│   ├── loggedin.html
│   └── upgrade.html
└── assets/
    └── logo.png
```

**5. Обновите `manifest.json`** - удалите из `web_accessible_resources`:
- `auth/welcome.html`
- `auth/welcome.js` 
- `auth/login-style.css`
- `auth/images/google.png`

После этих изменений:
- При клике на иконку расширения будет открываться `login.html`
- Верстка не будет "разъезжаться", так как используется правильный `tailwind.css`
- Структура проекта станет понятнее

Перезагрузите расширение в `chrome://extensions/` после внесения изменений.
