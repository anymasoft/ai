# Video Reader AI - OAuth –ü–æ–ª–Ω–∞—è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

## üîë –í–°–ï –ö–õ–Æ–ß–ò –ò –ù–ê–°–¢–†–û–ô–ö–ò (–≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ)

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–ª—é—á–∏ –∏ ID —É–∂–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
**–ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø** –Ω–∏—á–µ–≥–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é!

---

## üÜî Extension ID (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

```
nkbcpdlfjbkodkhlpppgcdpelegacfhh
```

–≠—Ç–æ—Ç ID **–í–°–ï–ì–î–ê –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π** –±–ª–∞–≥–æ–¥–∞—Ä—è –ø—É–±–ª–∏—á–Ω–æ–º—É –∫–ª—é—á—É –≤ `manifest.json`.

---

## üîê –ö–ª—é—á–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (extension-key.pem)
```
extension/extension-key.pem
```
‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.
–í production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–¥–∞–ª–∏—Ç—å –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ Chrome Web Store.

### –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (–≤ manifest.json)
```
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5Fu8OYSfX6NgH8MSaa+TXWRwZpZaYNhKSccIGa6eKAevipGIiphWvZ1AhxZt3SRneRXgFGh0NVlvZCtXXNwEkpo9B54HuVjm7IXpyhSMO3+A4NuBo1UXzD1OPN2+BnM/NXyLuREE5WNFZgALlsbeC6ROZWDpqr0xqIgHmZICeA5ZJRq1py+ugwp4Fk2lHmfI3TtGwxqoNafjBV7SlJGFlD/gnWhN++gaa56qvBzeXHMdBx4+R6xlHQ9JMg1QmlCo0fQfVlQvOjvgVHIs3D54RCblCj/U2zcHIeI2O3aZi9/soXsTdCLVcxg5oU6S7N7SUNZ25fhBw3YuycDpLrrKfQIDAQAB
```

---

## üåê Google OAuth –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Client ID
```
431567664470-tnur42uavtfv279g05e2vq58q9b45ecg.apps.googleusercontent.com
```

–ü—Ä–æ–ø–∏—Å–∞–Ω –≤:
- `extension/manifest.json` (—Å—Ç—Ä–æ–∫–∞ 55)
- `extension/background.js` (—Å—Ç—Ä–æ–∫–∞ 4)

### Redirect URI (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```
https://nkbcpdlfjbkodkhlpppgcdpelegacfhh.chromiumapp.org/
```

### Scopes
```
openid
email
profile
```

---

## üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud Console

### 1. –°–æ–∑–¥–∞–π OAuth Client ID

–ü–µ—Ä–µ–π–¥–∏: https://console.cloud.google.com/apis/credentials

1. **–ù–∞–∂–º–∏**: "+ CREATE CREDENTIALS" ‚Üí "OAuth client ID"

2. **–ó–∞–ø–æ–ª–Ω–∏**:
   - Application type: **Chrome Extension**
   - Name: `Video Reader AI`
   - Item ID: `nkbcpdlfjbkodkhlpppgcdpelegacfhh`

3. **–ù–∞–∂–º–∏**: "Create"

4. **–°–∫–æ–ø–∏—Ä—É–π Client ID** (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: `431567664470-tnur42uavtfv279g05e2vq58q9b45ecg.apps.googleusercontent.com`)

### 2. –ù–∞—Å—Ç—Ä–æ–π OAuth Consent Screen

1. **App name**: Video Reader AI
2. **User support email**: —Ç–≤–æ–π email
3. **Scopes**: `openid`, `email`, `profile`
4. **Test users**: –¥–æ–±–∞–≤—å —Å–≤–æ–π email –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url>
cd ai/extension

# 2. –û—Ç–∫—Ä–æ–π Chrome
chrome://extensions/

# 3. –í–∫–ª—é—á–∏ Developer mode

# 4. Load unpacked ‚Üí –≤—ã–±–µ—Ä–∏ –ø–∞–ø–∫—É extension/

# 5. –ü—Ä–æ–≤–µ—Ä—å Extension ID
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: nkbcpdlfjbkodkhlpppgcdpelegacfhh

# 6. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

# 7. –ù–∞–∂–º–∏ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å Google"

# 8. ‚úÖ –ì–æ—Ç–æ–≤–æ!
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–∑ ZIP

```bash
# 1. –°–∫–∞—á–∞–π ZIP —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

# 2. –†–∞—Å–ø–∞–∫—É–π

# 3. chrome://extensions/

# 4. Developer mode ‚Üí ON

# 5. Load unpacked ‚Üí –≤—ã–±–µ—Ä–∏ extension/

# 6. Extension ID = nkbcpdlfjbkodkhlpppgcdpelegacfhh ‚úÖ

# 7. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É ‚Üí "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å Google"

# 8. ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç!
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
extension/
‚îú‚îÄ‚îÄ manifest.json                    (v4.0.0, –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤–Ω—É—Ç—Ä–∏)
‚îú‚îÄ‚îÄ background.js                    (OAuth –ª–æ–≥–∏–∫–∞, Client ID –≤–Ω—É—Ç—Ä–∏)
‚îú‚îÄ‚îÄ auth_popup.html                  (UI popup 480√ó640)
‚îú‚îÄ‚îÄ auth_popup.js                    (UI –ª–æ–≥–∏–∫–∞)
‚îú‚îÄ‚îÄ popup.css                        (–°—Ç–∏–ª–∏)
‚îú‚îÄ‚îÄ extension-key.pem               (‚ö†Ô∏è –ü–†–ò–í–ê–¢–ù–´–ô –ö–õ–Æ–ß)
‚îú‚îÄ‚îÄ PROJECT_STRUCTURE.md            (–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
‚îî‚îÄ‚îÄ OAUTH_FULL_SETUP.md            (–≠—Ç–æ—Ç —Ñ–∞–π–ª)
```

---

## üîÑ OAuth Flow

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
   ‚Üì
2. background.js –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç auth_popup.html (480√ó640)
   ‚Üì
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å Google"
   ‚Üì
4. auth_popup.js ‚Üí chrome.runtime.sendMessage({ type: 'login' })
   ‚Üì
5. background.js ‚Üí chrome.identity.launchWebAuthFlow({
     url: "https://accounts.google.com/o/oauth2/auth?
           client_id=431567664470-tnur42uavtfv279g05e2vq58q9b45ecg...
           &response_type=id_token
           &redirect_uri=https://nkbcpdlfjbkodkhlpppgcdpelegacfhh.chromiumapp.org/
           &scope=openid email profile"
   })
   ‚Üì
6. Google OAuth ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è
   ‚Üì
7. Google ‚Üí Redirect:
   https://nkbcpdlfjbkodkhlpppgcdpelegacfhh.chromiumapp.org/#id_token=...
   ‚Üì
8. background.js ‚Üí –ò–∑–≤–ª–µ–∫–∞–µ—Ç id_token –∏–∑ hash
   ‚Üì
9. background.js ‚Üí –î–µ–∫–æ–¥–∏—Ä—É–µ—Ç JWT:
   {
     email: "user@gmail.com",
     name: "User Name",
     picture: "https://...",
     sub: "123456789"
   }
   ‚Üì
10. background.js ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ chrome.storage.local
   ‚Üì
11. background.js ‚Üí –ó–∞–∫—Ä—ã–≤–∞–µ—Ç popup
   ‚Üì
12. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω!
```

---

## üìä –î–∞–Ω–Ω—ã–µ –≤ Storage

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ `chrome.storage.local`:

```javascript
{
  idToken: "eyJhbGciOiJSUzI1NiIs...",
  user: {
    email: "user@gmail.com",
    name: "User Name",
    picture: "https://lh3.googleusercontent.com/...",
    sub: "1234567890"
  },
  authenticated: true,
  timestamp: 1234567890000
}
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. Extension ID
```bash
chrome://extensions/
‚Üí –Ω–∞–π–¥–∏ "Video Reader AI"
‚Üí ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: nkbcpdlfjbkodkhlpppgcdpelegacfhh
```

### 2. Background Service Worker
```bash
chrome://extensions/
‚Üí –Ω–∞–π–¥–∏ "Video Reader AI"
‚Üí –Ω–∞–∂–º–∏ "service worker"
‚Üí –ö–æ–Ω—Å–æ–ª—å –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å:
   "Video Reader AI background service worker –∑–∞–ø—É—â–µ–Ω"
   "Extension ID: nkbcpdlfjbkodkhlpppgcdpelegacfhh"
   "Client ID: 431567664470-tnur42uavtfv279g05e2vq58q9b45ecg.apps.googleusercontent.com"
```

### 3. Auth Popup
```bash
–ö–ª–∏–∫–Ω–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚Üí –î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è popup –æ–∫–Ω–æ 480√ó640
‚Üí –° –∫–Ω–æ–ø–∫–æ–π "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å Google"
```

### 4. OAuth Flow
```bash
–ù–∞–∂–º–∏ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å Google"
‚Üí –î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è Google OAuth –æ–∫–Ω–æ
‚Üí –ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è
‚Üí Popup –¥–æ–ª–∂–µ–Ω –∑–∞–∫—Ä—ã—Ç—å—Å—è
‚Üí –í –∫–æ–Ω—Å–æ–ª–∏ background: "‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ storage"
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–§–∞–π–ª `extension-key.pem` —Å–æ–¥–µ—Ä–∂–∏—Ç **–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á** —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- ‚úÖ –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
- ‚úÖ –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Extension ID

**–î–ª—è production:**
- ‚ùå –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø—É–±–ª–∏—á–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- ‚ùå –£–¥–∞–ª–∏ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –≤ Chrome Web Store
- ‚úÖ Chrome Web Store —Å–∞–º —Å–æ–∑–¥–∞—Å—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π ID –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–î–ª—è development**: –û—Å—Ç–∞–≤—å –∫–ª—é—á –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. **–î–ª—è production**: –£–¥–∞–ª–∏ –∫–ª—é—á –∏ –ø–æ–ª–µ `"key"` –∏–∑ `manifest.json` –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
3. **–î–ª—è private —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**: –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–ª—é—á

---

## üéØ –ò—Ç–æ–≥

**‚úÖ –í–°–ï –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ:**
- Extension ID —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
- Client ID –ø—Ä–æ–ø–∏—Å–∞–Ω
- Redirect URI –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ manifest.json
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- OAuth —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏

**üöÄ –ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ —Ç–µ—Å—Ç–∏—Ä—É–π!**

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å Extension ID –≤ `chrome://extensions/`
2. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å background service worker
3. –ü—Ä–æ–≤–µ—Ä—å OAuth Client ID –≤ Google Cloud Console
4. –£–±–µ–¥–∏—Å—å —á—Ç–æ Item ID = `nkbcpdlfjbkodkhlpppgcdpelegacfhh`

---

**¬© 2025 Video Reader AI**
