# Changelog

–í—Å–µ –∑–Ω–∞—á–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ Video Reader AI –±—É–¥—É—Ç –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

–§–æ—Ä–º–∞—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
–∏ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç [Semantic Versioning](https://semver.org/lang/ru/).

---

## [5.0.0] - 2025-11-15

### üî• MAJOR RELEASE - –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ OAuth flow

**‚ö†Ô∏è BREAKING CHANGES**:
- –£–¥–∞–ª–µ–Ω chrome.identity API
- –£–¥–∞–ª–µ–Ω—ã permissions: `identity`, `system.display`
- –ò–∑–º–µ–Ω–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–π OAuth popup

### ‚ú® Added (–î–æ–±–∞–≤–ª–µ–Ω–æ)

- **–ö–∞—Å—Ç–æ–º–Ω—ã–π OAuth popup —á–µ—Ä–µ–∑ window.open()**
  - –ö—Ä–∞—Å–∏–≤–æ–µ popup –æ–∫–Ω–æ 480√ó640 –ø–æ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞
  - –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ UX –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - –§–∞–π–ª: `auth_popup.js:73-115`

- **Polling –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è OAuth redirect**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ id_token –∏–∑ redirect URL
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 250ms
  - –¢–∞–π–º–∞—É—Ç 2 –º–∏–Ω—É—Ç—ã
  - –§–∞–π–ª: `auth_popup.js:119-188`

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
  - –§—É–Ω–∫—Ü–∏—è: `checkAuthStatus()` –≤ `auth_popup.js:16-28`

- **–£–ª—É—á—à–µ–Ω–Ω—ã–π UI –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞, –∏–º–µ–Ω–∏ –∏ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ö–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏" –¥–ª—è —Ä–∞–∑–ª–æ–≥–∏–Ω–∞
  - –§—É–Ω–∫—Ü–∏—è: `showAuthenticatedState()` –≤ `auth_popup.js:30-57`

- **–î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
  - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ OAuth flow —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é
  - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ troubleshooting
  - –§–∞–π–ª: `TECHNICAL_DOCUMENTATION.md`

- **CHANGELOG.md**
  - –§–∞–π–ª –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  - –°–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É Keep a Changelog

### üîÑ Changed (–ò–∑–º–µ–Ω–µ–Ω–æ)

- **background.js - —É–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞**
  - –£–¥–∞–ª–µ–Ω–∞ –≤—Å—è OAuth –ª–æ–≥–∏–∫–∞ —Å chrome.identity
  - –£–±—Ä–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `loginWithGoogle()`
  - –£–±—Ä–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å `chrome.system.display`
  - –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤–∫–ª–∞–¥–∫–∏ `auth_popup.html`
  - –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —É–º–µ–Ω—å—à–µ–Ω —Å 261 —Å—Ç—Ä–æ–∫ –¥–æ 78 —Å—Ç—Ä–æ–∫
  - –§–∞–π–ª: `background.js:8-14`

- **auth_popup.js - –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞**
  - –ü–µ—Ä–µ—Ö–æ–¥ —Å `chrome.runtime.sendMessage()` –Ω–∞ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ OAuth
  - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ popup –≤–º–µ—Å—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –æ–∫–Ω–∞
  - –î–æ–±–∞–≤–ª–µ–Ω polling –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è callback
  - –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ JWT –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
  - –§–∞–π–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω: 202 —Å—Ç—Ä–æ–∫–∏

- **manifest.json**
  - –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: `4.0.0` ‚Üí `5.0.0`
  - –£–¥–∞–ª–µ–Ω—ã permissions: `identity`, `system.display`
  - –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ: `storage`, `tabs`, `alarms`

### ‚ùå Removed (–£–¥–∞–ª–µ–Ω–æ)

- **Chrome Identity API** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω
  - `chrome.identity.launchWebAuthFlow()` –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
  - –°–∏—Å—Ç–µ–º–Ω—ã–µ OAuth –æ–∫–Ω–∞ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–µ popup

- **chrome.system.display** - —É–¥–∞–ª–µ–Ω permission
  - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ popup –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ `auth_popup.js`
  - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ window API

- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π `type: 'login'` –≤ background.js**
  - OAuth —Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ `auth_popup.js`

### üêõ Fixed (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)

- –£–±—Ä–∞–Ω—ã —Å–∏—Å—Ç–µ–º–Ω—ã–µ OAuth –æ–∫–Ω–∞ Chrome (—É–ª—É—á—à–µ–Ω UX)
- Popup —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è popup –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ cross-origin –æ—à–∏–±–æ–∫ –≤–æ –≤—Ä–µ–º—è polling

### üîí Security (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

- JWT —Ç–æ–∫–µ–Ω –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `chrome.storage.local` (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
- Timestamp –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## [4.0.0] - 2025-11-15 (–ø—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è)

### ‚ú® Added

- Google OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ chrome.identity API
- Popup –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ chrome.windows.create
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ id_token –∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞

### Features

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google
- –ö—Ä–∞—Å–∏–≤–∞—è —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è auth popup
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YouTube –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –≤ SRT/VTT/TXT

---

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é CHANGELOG

### –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å CHANGELOG?

**–í–°–ï–ì–î–ê** –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –∫–æ–¥–µ:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ)

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å?

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ç–∏–ø –≤–µ—Ä—Å–∏–∏** (SemVer):
   - MAJOR (X.0.0) - breaking changes, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - MINOR (x.X.0) - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ
   - PATCH (x.x.X) - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤, –º–µ–ª–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å–µ–∫—Ü–∏—é** –≤–≤–µ—Ä—Ö—É —Ñ–∞–π–ª–∞:

```markdown
## [X.Y.Z] - YYYY-MM-DD

### ‚ú® Added (–î–æ–±–∞–≤–ª–µ–Ω–æ)
- –û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

### üîÑ Changed (–ò–∑–º–µ–Ω–µ–Ω–æ)
- –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### ‚ùå Removed (–£–¥–∞–ª–µ–Ω–æ)
- –ß—Ç–æ —É–¥–∞–ª–µ–Ω–æ

### üêõ Fixed (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏

### üîí Security (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- –ò–∑–º–µ–Ω–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é

### ‚ö†Ô∏è Breaking Changes (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- –ß—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

3. **–û–±–Ω–æ–≤–∏—Ç–µ manifest.json** —Å —Ç–æ–π –∂–µ –≤–µ—Ä—Å–∏–µ–π

4. **–°–æ–∑–¥–∞–π—Ç–µ Git tag** –ø–æ—Å–ª–µ –º–µ—Ä–∂–∞:
   ```bash
   git tag vX.Y.Z
   git push origin vX.Y.Z
   ```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **‚ú® Added** - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **üîÑ Changed** - –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **‚ùå Removed** - —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **üêõ Fixed** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- **üîí Security** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **‚ö†Ô∏è Breaking Changes** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –∑–∞–ø–∏—Å–µ–π

**‚úÖ –•–æ—Ä–æ—à–æ**:
```markdown
- –î–æ–±–∞–≤–ª–µ–Ω polling –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è OAuth redirect (—Ñ–∞–π–ª: auth_popup.js:119-188)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º redirect URI –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –£–¥–∞–ª–µ–Ω chrome.identity API –≤ –ø–æ–ª—å–∑—É –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ OAuth popup
```

**‚ùå –ü–ª–æ—Ö–æ**:
```markdown
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–¥
- –£–ª—É—á—à–µ–Ω–∏—è
```

---

## üìã –®–∞–±–ª–æ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

```markdown
## [X.Y.Z] - YYYY-MM-DD

### ‚ú® Added
-

### üîÑ Changed
-

### üêõ Fixed
-

```

---

**‚ö†Ô∏è –í–ê–ñ–ù–û**: –û–±–Ω–æ–≤–ª—è–π—Ç–µ CHANGELOG –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞! –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
