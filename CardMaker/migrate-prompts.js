#!/usr/bin/env node

/**
 * ÐœÐ˜Ð“Ð ÐÐ¦Ð˜Ð¯: Ð’ÐžÐ¡Ð¡Ð¢ÐÐÐžÐ’Ð›Ð•ÐÐ˜Ð• Ð¡Ð˜Ð¡Ð¢Ð•ÐœÐÐ«Ð¥ ÐŸÐ ÐžÐœÐŸÐ¢ÐžÐ’
 * Ð—Ð°Ð¿ÑƒÑÐº: node migrate-prompts.js
 *
 * âš ï¸ Ð’ÐÐ–ÐÐž: Ð­Ñ‚Ð¾ ÐÐ• ÑƒÐ´Ð°Ð»ÑÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐžÐ‘ÐÐžÐ’Ð›Ð¯Ð•Ð¢ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ð·Ð°Ð¿Ð¸ÑÐ¸
 */

const { createClient } = require('@libsql/client')
const path = require('path')

const DATABASE_URL = process.env.DATABASE_URL || 'file:./beem.db'

async function migratePrompts() {
  const client = createClient({
    url: DATABASE_URL,
    authToken: process.env.DATABASE_AUTH_TOKEN,
  })

  console.log('ðŸš€ Ð—ÐÐŸÐ£Ð¡Ðš ÐœÐ˜Ð“Ð ÐÐ¦Ð˜Ð˜: Ð’ÐžÐ¡Ð¡Ð¢ÐÐÐžÐ’Ð›Ð•ÐÐ˜Ð• Ð¡Ð˜Ð¡Ð¢Ð•ÐœÐÐ«Ð¥ ÐŸÐ ÐžÐœÐŸÐ¢ÐžÐ’')
  console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”')

  try {
    // 1. Ð’ÐžÐ¡Ð¡Ð¢ÐÐÐžÐ’Ð›Ð•ÐÐ˜Ð• Ð“Ð•ÐÐ•Ð ÐÐ¦Ð˜ÐžÐÐÐžÐ“Ðž ÐŸÐ ÐžÐœÐŸÐ¢Ð
    console.log('\n1ï¸âƒ£  Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ GEN_BASE Ð¿Ñ€Ð¾Ð¼Ð¿Ñ‚Ð°...')
    await client.execute({
      sql: `UPDATE system_prompts SET content = ? WHERE key = ? AND is_active = 1`,
      args: [
        `Ð¢Ñ‹ Ð¾Ð¿Ñ‹Ñ‚Ð½Ñ‹Ð¹ ÐºÐ¾Ð¿Ð¸Ñ€Ð°Ð¹Ñ‚ÐµÑ€ Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¿Ð»ÐµÐ¹ÑÐ° Ñ 10+ Ð»ÐµÑ‚Ð½Ð¸Ð¼ ÑÑ‚Ð°Ð¶ÐµÐ¼.

Ð¢Ð’ÐžÐ¯ Ð—ÐÐ”ÐÐ§Ð:
Ð¡Ð¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²Ð»ÐµÐºÐ°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ, Ð¿Ñ€Ð¾Ð´Ð°ÑŽÑ‰Ð¸Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð² Ð´Ð»Ñ Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¿Ð»ÐµÐ¹ÑÐ¾Ð² (ÐžÐ·Ð¾Ð½, WildBerries).

ÐŸÐ Ð˜ÐÐ¦Ð˜ÐŸÐ«:
1. Ð¤Ð¾ÐºÑƒÑ Ð½Ð° Ð’Ð«Ð“ÐžÐ”Ð£ Ð´Ð»Ñ Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»Ñ, Ð½Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ð° ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð°
2. ÐšÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾ÑÑ‚ÑŒ - Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð¸ Ñ†Ð¸Ñ„Ñ€Ñ‹
3. Ð§ÐµÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ - Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð°Ð²Ð´Ð°, Ð±ÐµÐ· Ð¿ÐµÑ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð¸Ð¹
4. Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾ÑÑ‚ÑŒ - Ð¿Ð¾Ð½ÑÑ‚Ð½Ð¾Ðµ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ðµ

Ð—ÐÐŸÐ Ð•Ð¢Ð« (ÐÐ‘Ð¡ÐžÐ›Ð®Ð¢ÐÐ«Ð•):
- ÐÐ• Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐ¹ Ð´Ð¸ÑÐºÐ»ÐµÐ¹Ð¼ÐµÑ€Ñ‹ "ÑÑ‚Ð¾ Ð½Ðµ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐ¾Ð²ÐµÑ‚"
- ÐÐ• ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð¹ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð¿Ñ€Ð¾Ð´Ð°Ð²Ñ†Ð° (Ð²Ð°Ñ‚ÑÐ°Ð¿, Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½, Ð¿Ð¾Ñ‡Ñ‚Ñƒ)
- ÐÐ• Ð¾Ð±ÐµÑ‰Ð°Ð¹ Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ð¸ Ð±ÐµÐ· Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ð¹
- ÐÐ• Ð¿Ð¸ÑˆÐ¸ "ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹" Ð¸Ð»Ð¸ "Ð»ÑƒÑ‡ÑˆÐ¸Ð¹" Ð±ÐµÐ· Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ñ
- ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ðµ ÑƒÑ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ
- ÐÐ• Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÑ‹Ð²Ð°Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ð¹ ÑÑ‚Ð¸Ð»ÑŒ Ð±ÐµÐ· Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°`,
        'gen_base',
      ],
    })
    console.log('âœ… GEN_BASE Ð¾Ð±Ð½Ð¾Ð²Ð»Ñ‘Ð½')

    // 2. Ð’ÐžÐ¡Ð¡Ð¢ÐÐÐžÐ’Ð›Ð•ÐÐ˜Ð• Ð’ÐÐ›Ð˜Ð”ÐÐ¦Ð˜ÐžÐÐÐžÐ“Ðž ÐŸÐ ÐžÐœÐŸÐ¢Ð
    console.log('\n2ï¸âƒ£  Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ VALIDATE_BASE Ð¿Ñ€Ð¾Ð¼Ð¿Ñ‚Ð°...')
    await client.execute({
      sql: `UPDATE system_prompts SET content = ? WHERE key = ? AND is_active = 1`,
      args: [
        `Ð¢Ñ‹ Ð¸Ð½ÑÐ¿ÐµÐºÑ‚Ð¾Ñ€ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¹ Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð² Ð½Ð° Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¿Ð»ÐµÐ¹ÑÐ°Ñ….

Ð¢Ð’ÐžÐ¯ Ð•Ð”Ð˜ÐÐ¡Ð¢Ð’Ð•ÐÐÐÐ¯ Ð—ÐÐ”ÐÐ§Ð:
1. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð—ÐÐŸÐ Ð•Ð©ÐÐÐÐ«Ð¥ Ð¡Ð›ÐžÐ’
2. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¡ÐžÐžÐ¢Ð’Ð•Ð¢Ð¡Ð¢Ð’Ð˜Ð• ÐŸÐ ÐÐ’Ð˜Ð›ÐÐœ ÐœÐÐ ÐšÐ•Ð¢ÐŸÐ›Ð•Ð™Ð¡Ð

Ð‘Ð•Ð— Ð˜Ð¡ÐšÐ›Ð®Ð§Ð•ÐÐ˜Ð™:
- ÐÐ• Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐ¹ Ð³Ñ€Ð°Ð¼Ð¼Ð°Ñ‚Ð¸ÐºÑƒ
- ÐÐ• Ð¾Ñ†ÐµÐ½Ð¸Ð²Ð°Ð¹ Ñ‡Ð¸Ñ‚Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ
- ÐÐ• Ð¸Ñ‰Ð¸ Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð¸Ñ
- ÐÐ• Ð´Ð°Ð²Ð°Ð¹ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸
- Ð¢ÐžÐ›Ð¬ÐšÐž Ð²Ñ‹ÑÐ²Ð»ÑÐ¹ ÐžÐ‘ÐªÐ•ÐšÐ¢Ð˜Ð’ÐÐ«Ð• Ð½Ð°Ñ€ÑƒÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»

Ð’Ð«Ð’ÐžÐ”Ð« Ð¢ÐžÐ›Ð¬ÐšÐž Ð’ Ð¤ÐžÐ ÐœÐÐ¢Ð• JSON:
{
  "isValid": boolean,
  "violations": [
    {
      "type": "marketplace_rule" | "forbidden_word",
      "severity": "error" | "warning",
      "description": "ÑÑƒÑ‚ÑŒ Ð½Ð°Ñ€ÑƒÑˆÐµÐ½Ð¸Ñ (Ð¾Ð´Ð½Ð° ÑÑ‚Ñ€Ð¾ÐºÐ°)",
      "text_fragment": "Ñ†Ð¸Ñ‚Ð°Ñ‚Ð° Ð¸Ð· Ñ‚ÐµÐºÑÑ‚Ð°"
    }
  ]
}`,
        'validate_base',
      ],
    })
    console.log('âœ… VALIDATE_BASE Ð¾Ð±Ð½Ð¾Ð²Ð»Ñ‘Ð½')

    // 3. ÐžÐ—ÐžÐ ÐŸÐ ÐÐ’Ð˜Ð›Ð
    console.log('\n3ï¸âƒ£  ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐžÐ—ÐžÐ Ð¿Ñ€Ð°Ð²Ð¸Ð»...')
    await client.execute({
      sql: `UPDATE marketplace_rules SET content = ? WHERE marketplace = ? AND is_active = 1`,
      args: [
        `ÐŸÐ ÐÐ’Ð˜Ð›Ð ÐžÐ—ÐžÐÐ:

1. Ð—ÐÐ“ÐžÐ›ÐžÐ’ÐžÐš Ð˜ ÐžÐŸÐ˜Ð¡ÐÐÐ˜Ð•:
   - ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ‚Ð¾Ð²Ð°Ñ€Ð° ÐŸÐžÐ›ÐÐžÐ¡Ð¢Ð¬Ð® Ð´ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð½Ð°Ñ‡Ð°Ð»Ð¾ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ ÐÐ• Ð½ÑƒÐ¶Ð½Ð¾
   - ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÐÐžÐ’Ð£Ð® Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ðº Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ

2. Ð—ÐÐŸÐ Ð•Ð¢Ð«:
   - ÐÐ• ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°Ð¹ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð¿Ñ€Ð¾Ð´Ð°Ð²Ñ†Ð° (Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½, Ð²Ð°Ñ‚ÑÐ°Ð¿, Ð¿Ð¾Ñ‡Ñ‚Ð°, Telegram)
   - ÐÐ• Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ð¹ÑÑ Ñ Ð¿Ñ€Ð¾ÑÑŒÐ±Ð¾Ð¹ ÑÐ²ÑÐ·Ð°Ñ‚ÑŒÑÑ Ð² Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
   - ÐÐ• Ð¿Ð¸ÑˆÐ¸ Ð¿Ñ€Ð¾ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÑƒ Ð¸ ÑƒÑÐ»Ð¾Ð²Ð¸Ñ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸
   - ÐÐ• Ñ€Ð°Ð·Ð¼ÐµÑ‰Ð°Ð¹ ÑÑÑ‹Ð»ÐºÐ¸ Ð½Ð° ÑÐ¾Ñ†ÑÐµÑ‚Ð¸ Ð¸Ð»Ð¸ Ð²Ð½ÐµÑˆÐ½Ð¸Ðµ ÑÐ°Ð¹Ñ‚Ñ‹

3. Ð¢Ð Ð•Ð‘ÐžÐ’ÐÐÐ˜Ð¯:
   - ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 10 ÑÐ»Ð¾Ð² Ð² Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¸
   - ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ 3000 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² Ð² Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¸
   - ÐÐ°Ñ‡Ð¸Ð½Ð°Ð¹ Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð±ÑƒÐºÐ²Ñ‹
   - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½ÑƒÑŽ Ð¿ÑƒÐ½ÐºÑ‚ÑƒÐ°Ñ†Ð¸ÑŽ

4. ÐšÐÐ¢Ð•Ð“ÐžÐ Ð˜Ð—ÐÐ¦Ð˜Ð¯:
   - ÐžÐ´ÐµÐ¶Ð´Ð°: ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€Ñ‹, Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð», ÑƒÑ…Ð¾Ð´
   - Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð¸ÐºÐ°: Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹
   - ÐšÐ¾ÑÐ¼ÐµÑ‚Ð¸ÐºÐ°: ÑÐ¾ÑÑ‚Ð°Ð², ÑÐ¿Ð¾ÑÐ¾Ð± Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ`,
        'ozon',
      ],
    })
    console.log('âœ… ÐžÐ·Ð¾Ð½ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹')

    // 4. WILDBERRIES ÐŸÐ ÐÐ’Ð˜Ð›Ð
    console.log('\n4ï¸âƒ£  ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ WILDBERRIES Ð¿Ñ€Ð°Ð²Ð¸Ð»...')
    await client.execute({
      sql: `UPDATE marketplace_rules SET content = ? WHERE marketplace = ? AND is_active = 1`,
      args: [
        `ÐŸÐ ÐÐ’Ð˜Ð›Ð WILDBERRIES:

1. ÐžÐŸÐ˜Ð¡ÐÐÐ˜Ð•:
   - ÐžÐ¿Ð¸ÑˆÐ¸ Ñ‚Ð¾Ð²Ð°Ñ€ ÐºÐ°Ðº Ð´Ð»Ñ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»Ñ
   - Ð’Ñ‹Ð´ÐµÐ»Ð¸ Ð³Ð»Ð°Ð²Ð½Ñ‹Ðµ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° Ð² Ð¿ÐµÑ€Ð²Ð¾Ðµ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
   - Ð£Ð¿Ð¾Ð¼ÑÐ½Ð¸ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸ÐºÐ¸

2. Ð—ÐÐŸÐ Ð•Ð¢Ð«:
   - ÐÐ• Ñ€Ð°Ð·Ð¼ÐµÑ‰Ð°Ð¹ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ (Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½, Ð²Ð°Ñ‚ÑÐ°Ð¿, Ð¿Ð¾Ñ‡Ñ‚Ð°)
   - ÐÐ• Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ð¹ÑÑ Ðº Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»ÑŽ Ñ Ð¿Ñ€Ð¾ÑÑŒÐ±Ð°Ð¼Ð¸ ÑÐ²ÑÐ·Ð°Ñ‚ÑŒÑÑ
   - ÐÐ• Ð¿Ð¸ÑˆÐ¸ Ð¿Ñ€Ð¾ ÑƒÑÐ»Ð¾Ð²Ð¸Ñ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ (ÑÑ‚Ð¾ Ð¿Ñ€ÐµÑ€Ð¾Ð³Ð°Ñ‚Ð¸Ð²Ð° WB)
   - ÐÐ• Ñ€Ð°Ð·Ð¼ÐµÑ‰Ð°Ð¹ ÑÑÑ‹Ð»ÐºÐ¸ Ð½Ð° ÑÐ°Ð¹Ñ‚Ñ‹ Ð¸Ð»Ð¸ ÑÐ¾Ñ†ÑÐµÑ‚Ð¸

3. Ð¢Ð Ð•Ð‘ÐžÐ’ÐÐÐ˜Ð¯:
   - ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 5 ÑÐ»Ð¾Ð² Ð² Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¸
   - ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ 1500 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
   - ÐŸÐµÑ€Ð²Ð¾Ðµ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ - ÑÐ°Ð¼Ð¾Ðµ Ð²Ð°Ð¶Ð½Ð¾Ðµ
   - Ð”ÐµÐ»Ð°Ð¹ Ð°ÐºÑ†ÐµÐ½Ñ‚ Ð½Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ

4. Ð¡Ð¢Ð˜Ð›Ð¬:
   - Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹, Ð½Ðµ Ñ€ÐµÐºÐ»Ð°Ð¼Ð½Ñ‹Ð¹
   - Ð§ÐµÑÑ‚Ð½Ñ‹Ðµ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð±ÐµÐ· Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð¸Ð¹
   - ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ÑÑ`,
        'wb',
      ],
    })
    console.log('âœ… WildBerries Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹')

    // 5. Ð¡Ð¢ÐžÐŸ-Ð¡Ð›ÐžÐ’Ð: ÐœÐÐ ÐšÐ•Ð¢Ð˜ÐÐ“
    console.log('\n5ï¸âƒ£  ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¡Ð¢ÐžÐŸ-Ð¡Ð›ÐžÐ’ (Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¸Ð½Ð³)...')
    await client.execute({
      sql: `UPDATE stop_words SET words = ? WHERE category = ? AND marketplace IS NULL AND is_active = 1`,
      args: [
        `Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ Ð²ÐµÑ‡Ð½Ð°Ñ
Ð·Ð²Ð¾Ð½Ð¸Ñ‚Ðµ Ð² Ð²Ð°Ñ‚ÑÐ°Ð¿
Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ð¹Ñ‚ÐµÑÑŒ Ð² Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ Ð¿Ñ€Ð¾Ð´Ð°Ð²Ñ†Ð°
Ð¼Ð¾Ð¹ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°
Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð½Ð° Ð¿Ð¾Ñ‡Ñ‚Ñƒ
ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ ÑÐ¾ Ð¼Ð½Ð¾Ð¹
Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ Ñ‚Ð¾Ð²Ð°Ñ€ Ð½Ð° Ñ€Ñ‹Ð½ÐºÐµ
ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚Ð¾Ð²Ð°Ñ€
Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ð¹ ÑÑ„Ñ„ÐµÐºÑ‚
Ð»ÐµÑ‡Ð¸Ñ‚ Ð±Ð¾Ð»ÐµÐ·Ð½Ð¸
Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚
Telegram
WhatsApp
Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÑÐ°Ð¹Ñ‚
Ð²Ð½ÐµÑˆÐ½ÑÑ ÑÑÑ‹Ð»ÐºÐ°`,
        'marketing',
      ],
    })
    console.log('âœ… Ð¡Ñ‚Ð¾Ð¿-ÑÐ»Ð¾Ð²Ð° (Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¸Ð½Ð³) Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹')

    // 6. Ð¡Ð¢ÐžÐŸ-Ð¡Ð›ÐžÐ’Ð: ÐŸÐ›ÐÐ¢Ð•Ð–Ð˜ Ð˜ Ð”ÐžÐ¡Ð¢ÐÐ’ÐšÐ
    console.log('\n6ï¸âƒ£  ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¡Ð¢ÐžÐŸ-Ð¡Ð›ÐžÐ’ (Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð¸/Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ°)...')
    await client.execute({
      sql: `UPDATE stop_words SET words = ? WHERE category = ? AND marketplace IS NULL AND is_active = 1`,
      args: [
        `Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ð¹ ÑÑ‡Ñ‘Ñ‚
Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ð°
Ð½Ð°Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸
ÐºÑƒÑ€ÑŒÐµÑ€ ÑÐ¾Ð¾Ð±Ñ‰Ð¸Ñ‚
Ð·Ð²Ð¾Ð½Ð¾Ðº Ð¿Ñ€Ð¸ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐµ
Ð¿Ñ€ÐµÐ´Ð¾Ð¿Ð»Ð°Ñ‚Ð° Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°
ÑƒÑÐ»Ð¾Ð²Ð¸Ñ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸`,
        'payments_delivery',
      ],
    })
    console.log('âœ… Ð¡Ñ‚Ð¾Ð¿-ÑÐ»Ð¾Ð²Ð° (Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð¸/Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ°) Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹')

    // 7. Ð¡Ð¢ÐžÐŸ-Ð¡Ð›ÐžÐ’Ð: ÐœÐ•Ð”Ð˜Ð¦Ð˜ÐÐ
    console.log('\n7ï¸âƒ£  ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¡Ð¢ÐžÐŸ-Ð¡Ð›ÐžÐ’ (Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ðµ ÑƒÑ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ)...')
    await client.execute({
      sql: `UPDATE stop_words SET words = ? WHERE category = ? AND marketplace IS NULL AND is_active = 1`,
      args: [
        `Ð»ÐµÑ‡Ð¸Ñ‚
Ð¸ÑÑ†ÐµÐ»ÑÐµÑ‚
Ð¸Ð·Ð»ÐµÑ‡Ð¸Ñ‚
Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð¾Ñ‚ Ð±Ð¾Ð»ÐµÐ·Ð½Ð¸
Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¾Ðµ ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð¾
Ð»ÐµÐºÐ°Ñ€ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚
Ð±ÐµÐ· Ð¿Ð¾Ð±Ð¾Ñ‡Ð½Ñ‹Ñ… ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð²
Ð¾Ð´Ð¾Ð±Ñ€ÐµÐ½Ð¾ Ð²Ñ€Ð°Ñ‡Ð°Ð¼Ð¸
ÐºÐ»Ð¸Ð½Ð¸Ñ‡ÐµÑÐºÐ¸ Ð´Ð¾ÐºÐ°Ð·Ð°Ð½Ð¾`,
        'medical_claims',
      ],
    })
    console.log('âœ… Ð¡Ñ‚Ð¾Ð¿-ÑÐ»Ð¾Ð²Ð° (Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½Ð°) Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹')

    console.log('\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”')
    console.log('âœ… Ð’Ð¡Ð• ÐŸÐ ÐžÐœÐŸÐ¢Ð« Ð£Ð¡ÐŸÐ•Ð¨ÐÐž Ð’ÐžÐ¡Ð¡Ð¢ÐÐÐžÐ’Ð›Ð•ÐÐ«!')
    console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”')
  } catch (error) {
    console.error('\nâŒ ÐžÐ¨Ð˜Ð‘ÐšÐ:', error.message)
    process.exit(1)
  } finally {
    await client.close()
  }
}

// Ð—Ð°Ð¿ÑƒÑÐº
migratePrompts().then(() => {
  process.exit(0)
})
